<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-OS Launcher Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0a0a0f;
            color: white;
            padding: 20px;
        }
        .test-result {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        .success { background: #10b981; }
        .error { background: #ef4444; }
        .info { background: #3b82f6; }
    </style>
</head>
<body>
    <h1>AI-OS Launcher Test</h1>
    <div id="test-results"></div>
    
    <script>
        const results = [];
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.textContent = message;
            document.getElementById('test-results').appendChild(div);
            results.push({ message, type });
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        // Test 1: Check if elements exist
        log('Testing DOM elements...', 'info');
        
        const mainContent = document.getElementById('mainContent');
        const appContainer = document.getElementById('appContainer');
        const appFrame = document.getElementById('appFrame');
        
        if (mainContent) {
            log('✓ mainContent element found', 'success');
        } else {
            log('✗ mainContent element NOT found', 'error');
        }
        
        if (appContainer) {
            log('✓ appContainer element found', 'success');
        } else {
            log('✗ appContainer element NOT found', 'error');
        }
        
        if (appFrame) {
            log('✓ appFrame element found', 'success');
        } else {
            log('✗ appFrame element NOT found', 'error');
        }
        
        // Test 2: Check if app cards exist
        log('Testing app cards...', 'info');
        const appCards = document.querySelectorAll('.app-card');
        log(`Found ${appCards.length} app cards`, 'info');
        
        if (appCards.length > 0) {
            // Test 3: Check if cards have correct attributes
            const firstCard = appCards[0];
            const hasDataApp = firstCard.hasAttribute('data-app');
            const hasDataCategory = firstCard.hasAttribute('data-category');
            const hasDataName = firstCard.hasAttribute('data-name');
            
            if (hasDataApp && hasDataCategory && hasDataName) {
                log('✓ First card has all required data attributes', 'success');
                log(`  - data-app: ${firstCard.getAttribute('data-app')}`, 'info');
                log(`  - data-category: ${firstCard.getAttribute('data-category')}`, 'info');
                log(`  - data-name: ${firstCard.getAttribute('data-name')}`, 'info');
            } else {
                log('✗ First card is missing data attributes', 'error');
            }
        }
        
        // Test 4: Check event delegation
        log('Testing click event...', 'info');
        let clickTestPassed = false;
        
        const clickHandler = (e) => {
            const appElement = e.target.closest('[data-app]');
            if (appElement) {
                log('✓ Click event captured on app card', 'success');
                log(`  - App: ${appElement.getAttribute('data-name')}`, 'info');
                clickTestPassed = true;
            }
        };
        
        document.addEventListener('click', clickHandler);
        
        // Simulate click on first card
        if (appCards.length > 0) {
            const event = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            appCards[0].dispatchEvent(event);
            
            if (clickTestPassed) {
                log('✓ Event delegation working correctly', 'success');
            } else {
                log('✗ Event delegation NOT working', 'error');
            }
        }
        
        // Test 5: Check SVG icons
        log('Testing SVG icons...', 'info');
        const svgSymbols = document.querySelectorAll('svg symbol');
        log(`Found ${svgSymbols.length} SVG symbols`, 'info');
        
        if (svgSymbols.length > 10) {
            log('✓ SVG icons library loaded', 'success');
        } else {
            log('⚠ SVG icons library might be incomplete', 'warning');
        }
        
        // Test 6: Check categories
        log('Testing categories...', 'info');
        const categories = document.querySelectorAll('.category-section');
        log(`Found ${categories.length} categories`, 'info');
        
        categories.forEach(cat => {
            const title = cat.querySelector('.category-title');
            if (title) {
                log(`  - ${title.textContent}`, 'info');
            }
        });
        
        log('All tests completed!', 'success');
    </script>
</body>
</html>