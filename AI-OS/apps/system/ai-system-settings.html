<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öôÔ∏è AI System Settings</title>
    
    <!-- AI-OS Core Integration -->
    <script src="../js/ai-os-core.js"></script>
    <script src="../js/ai-os-app-integration.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
            background: #000;
            color: #00ff00;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-image: 
                linear-gradient(90deg, rgba(0, 255, 0, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(0, 255, 0, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .settings-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Header */
        .settings-header {
            height: 70px;
            background: #000;
            border-bottom: 2px solid #00ff00;
            border-top: 1px solid #00ff00;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: relative;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .back-btn {
            width: 40px;
            height: 40px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            color: #00d4ff;
        }
        
        .back-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.6);
        }
        
        .settings-title {
            font-size: 20px;
            font-weight: 700;
            color: #00d4ff;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .settings-toggle-sidebar {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }
        
        .settings-toggle-sidebar:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .settings-toggle-sidebar.hidden .settings-toggle-icon {
            transform: rotate(180deg);
        }
        
        .settings-toggle-sidebar.hidden .settings-toggle-icon::before {
            content: '¬ª';
        }
        
        .settings-toggle-sidebar.hidden .settings-toggle-icon::after {
            content: '';
        }
        
        .settings-toggle-sidebar .settings-toggle-icon::before {
            content: '¬´';
        }
        
        .save-btn {
            padding: 10px 20px;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }
        
        .save-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Main Content */
        .settings-main {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* Sidebar */
        .settings-sidebar {
            width: 280px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(0, 212, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar-nav {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 5px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
            cursor: pointer;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
        }
        
        .nav-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }
        
        /* Content Area */
        .settings-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            position: relative;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .section-header {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 28px;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .section-description {
            font-size: 16px;
            color: #888;
            line-height: 1.5;
        }
        
        /* Setting Groups */
        .setting-group {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .group-title {
            font-size: 20px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .group-icon {
            font-size: 24px;
        }
        
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
        }
        
        .setting-item:last-child {
            border-bottom: none;
        }
        
        .setting-info {
            flex: 1;
            margin-right: 20px;
        }
        
        .setting-name {
            font-size: 16px;
            font-weight: 600;
            color: white;
            margin-bottom: 5px;
        }
        
        .setting-description {
            font-size: 14px;
            color: #888;
            line-height: 1.4;
        }
        
        .setting-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Control Types */
        .toggle-switch {
            width: 50px;
            height: 28px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active {
            background: #00d4ff;
        }
        
        .toggle-slider {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(22px);
        }
        
        .slider-control {
            width: 200px;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }
        
        .slider-thumb {
            width: 18px;
            height: 18px;
            background: #00d4ff;
            border-radius: 50%;
            position: absolute;
            top: -6px;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 212, 255, 0.4);
            transition: all 0.3s ease;
        }
        
        .slider-value {
            font-size: 14px;
            color: #00d4ff;
            font-weight: 600;
            min-width: 60px;
            text-align: center;
        }
        
        .select-control {
            padding: 8px 12px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: white;
            font-size: 14px;
            outline: none;
            min-width: 150px;
            cursor: pointer;
        }
        
        .select-control:focus {
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        .select-control option {
            background: #1a1a2e;
            color: white;
        }
        
        .input-control {
            padding: 8px 12px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: white;
            font-size: 14px;
            outline: none;
            min-width: 200px;
        }
        
        .input-control:focus {
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        .input-control::placeholder {
            color: #888;
        }
        
        /* System Information */
        .system-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
        }
        
        .info-title {
            font-size: 14px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .info-value {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }
        
        .info-detail {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
        
        /* Progress Bars */
        .progress-container {
            margin-bottom: 20px;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .progress-label {
            font-size: 14px;
            font-weight: 600;
            color: white;
        }
        
        .progress-value {
            font-size: 14px;
            color: #00d4ff;
            font-weight: 600;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099cc);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            color: #00d4ff;
        }
        
        .btn-secondary:hover {
            background: rgba(0, 212, 255, 0.2);
        }
        
        .btn-danger {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }
        
        .btn-danger:hover {
            background: rgba(231, 76, 60, 0.2);
        }
        
        /* Linux Specific */
        .linux-terminal {
            background: #000;
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            color: #00ff00;
            margin: 20px 0;
        }
        
        .terminal-prompt {
            color: #00d4ff;
        }
        
        .terminal-output {
            color: #00ff00;
            margin-left: 10px;
        }
        
        /* iOS Specific */
        .ios-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .ios-option {
            padding: 15px 10px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .ios-option:hover,
        .ios-option.selected {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            color: #00d4ff;
        }
        
        .ios-option-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }
        
        .ios-option-name {
            font-size: 12px;
            font-weight: 600;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .settings-sidebar {
                width: 250px;
            }
            
            .settings-content {
                padding: 20px;
            }
            
            .system-info-grid {
                grid-template-columns: 1fr;
            }
            
            .setting-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .setting-control {
                width: 100%;
                justify-content: flex-start;
            }
        }
        
        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: #888;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(0, 212, 255, 0.2);
            border-top: 3px solid #00d4ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 90px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 15px 20px;
            padding-right: 45px;
            z-index: 3000;
            max-width: 350px;
            color: white;
            font-size: 14px;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .notification-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .notification-close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .notification-close-btn svg {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.success {
            border-color: rgba(46, 204, 113, 0.3);
        }
        
        .notification.error {
            border-color: rgba(231, 76, 60, 0.3);
        }
        
        /* Additional styling for new sections */
        .status-indicator {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-indicator.active {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid rgba(46, 204, 113, 0.3);
        }
        
        .status-indicator.inactive {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid rgba(231, 76, 60, 0.3);
        }
        
        .battery-status {
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .battery-icon {
            font-size: 48px;
            color: #00d4ff;
        }
        
        .battery-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .battery-level {
            font-size: 24px;
            font-weight: 700;
            color: #00d4ff;
        }
        
        .battery-status-text {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .battery-time {
            font-size: 12px;
            opacity: 0.6;
        }
        
        .storage-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .storage-card {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
        }
        
        .storage-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00d4ff;
        }
        
        .storage-value {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .storage-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .storage-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099cc);
            transition: width 0.3s ease;
        }
        
        .storage-detail {
            font-size: 12px;
            opacity: 0.7;
        }
        
        /* Sidebar toggle functionality */
        .settings-sidebar.hidden {
            transform: translateX(-100%);
            width: 0;
            padding: 0;
            overflow: hidden;
        }
        
        .settings-content.expanded {
            margin-left: 0;
            width: 100%;
        }
        
        .settings-main {
            transition: all 0.3s ease;
        }
        
        /* GUI Customization Styles */
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 15px;
            width: 100%;
        }
        
        .theme-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-option:hover,
        .theme-option.active {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }
        
        .theme-preview {
            width: 40px;
            height: 30px;
            border-radius: 4px;
            margin-bottom: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .theme-preview .theme-header {
            height: 8px;
            width: 100%;
        }
        
        .theme-preview .theme-body {
            height: 22px;
            width: 100%;
        }
        
        .dark-theme .theme-header {
            background: #1a1a2e;
        }
        
        .dark-theme .theme-body {
            background: #2a2a5a;
        }
        
        .light-theme .theme-header {
            background: #f8f9fa;
        }
        
        .light-theme .theme-body {
            background: #ffffff;
        }
        
        .cyberpunk-theme .theme-header {
            background: #ff0080;
        }
        
        .cyberpunk-theme .theme-body {
            background: #8000ff;
        }
        
        .neon-theme .theme-header {
            background: #00ff41;
        }
        
        .neon-theme .theme-body {
            background: #0080ff;
        }
        
        .theme-name {
            font-size: 11px;
            font-weight: 600;
            text-align: center;
        }
        
        .color-picker-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .color-picker-group input[type="color"] {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .color-hex {
            width: 80px;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: white;
            font-size: 12px;
            font-family: monospace;
        }
        
        .slider-container {
            position: relative;
            width: 200px;
            height: 30px;
            display: flex;
            align-items: center;
        }
        
        .slider {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            outline: none;
            appearance: none;
            cursor: pointer;
        }
        
        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            background: #00d4ff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 212, 255, 0.4);
        }
        
        .slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #00d4ff;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0, 212, 255, 0.4);
        }
        
        .slider-thumb {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: #00d4ff;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 212, 255, 0.4);
            pointer-events: none;
        }
        
        .slider-value {
            margin-left: 15px;
            min-width: 40px;
            font-size: 12px;
            font-weight: 600;
            color: #00d4ff;
        }
        
        .layout-options {
            display: flex;
            gap: 15px;
            width: 100%;
        }
        
        .layout-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        .layout-option:hover,
        .layout-option.active {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }
        
        .layout-preview {
            width: 60px;
            height: 40px;
            margin-bottom: 8px;
            border-radius: 4px;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .traditional-layout {
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 0.2) 25%, 
                transparent 25%, 
                transparent 75%, 
                rgba(255, 255, 255, 0.2) 75%);
            background-size: 20px 20px;
        }
        
        .modern-layout {
            background: radial-gradient(circle at center, 
                rgba(255, 255, 255, 0.3) 0%, 
                transparent 70%);
        }
        
        .compact-layout {
            background: repeating-linear-gradient(45deg,
                rgba(255, 255, 255, 0.2),
                rgba(255, 255, 255, 0.2) 2px,
                transparent 2px,
                transparent 10px);
        }
        
        .layout-name {
            font-size: 11px;
            font-weight: 600;
            text-align: center;
        }
        
        .textarea-control {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.4;
            resize: vertical;
        }
        
        .textarea-control:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
        }
        
        .textarea-control::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* CSS Variables for dynamic theming */
        :root {
            --primary-color: #00d4ff;
            --secondary-color: #0099cc;
            --border-radius: 8px;
            --animation-duration: 0.3s;
        }
        
        /* Apply CSS variables */
        .btn {
            border-radius: var(--border-radius);
            transition: all var(--animation-duration) ease;
        }
        
        .toggle-switch {
            border-radius: calc(var(--border-radius) / 2);
        }
        
        .theme-option.active {
            box-shadow: 0 0 15px var(--primary-color);
        }
        
        .layout-option.active {
            box-shadow: 0 0 10px var(--secondary-color);
        }
    
        /* Floating Home Button */
        .floating-home-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 0, 0.3);
            border: 2px solid #00ff88;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            animation: homePulse 2s infinite;
        }

        .floating-home-btn:hover {
            background: rgba(0, 255, 0, 0.5);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.7);
            animation: none;
        }

        @keyframes homePulse {
            0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 0, 0.3); }
            50% { box-shadow: 0 0 15px rgba(0, 255, 0, 0.6); }
        }
    </style>
</head>
<body>
    <!-- Floating Home Button -->
    <div class="floating-home-btn" onclick="goHome()" title="Domov">üè†</div>
    <div class="settings-container">
        <!-- Header -->
        <div class="settings-header">
            <div class="header-left">
                <div class="back-btn" onclick="goBack()">‚Üê</div>
                <div class="settings-title">‚öôÔ∏è System Settings</div>
            </div>
            <div class="header-right">
                <div class="settings-toggle-sidebar" onclick="toggleSettingsSidebar()" title="Toggle Sidebar">
                    <span class="settings-toggle-icon">¬´</span>
                </div>
                <button class="btn btn-secondary" onclick="resetToDefaults()">Reset Defaults</button>
                <button class="save-btn" id="saveBtn" onclick="saveSettings()">Save Changes</button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="settings-main">
            <!-- Sidebar -->
            <div class="settings-sidebar">
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <div class="nav-link active" onclick="showSection('general')">
                            <span class="nav-icon">üéõÔ∏è</span>
                            <span>General</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('system')">
                            <span class="nav-icon">üíª</span>
                            <span>System</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('network')">
                            <span class="nav-icon">üåê</span>
                            <span>Network</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('security')">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span>Security</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('storage')">
                            <span class="nav-icon">üíæ</span>
                            <span>Storage</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('display')">
                            <span class="nav-icon">üñ•Ô∏è</span>
                            <span>Display</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('audio')">
                            <span class="nav-icon">üîä</span>
                            <span>Audio</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('power')">
                            <span class="nav-icon">üîã</span>
                            <span>Power</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('linux')">
                            <span class="nav-icon">üêß</span>
                            <span>Linux Settings</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('ios')">
                            <span class="nav-icon">üì±</span>
                            <span>iOS Settings</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('gui')">
                            <span class="nav-icon">üé®</span>
                            <span>GUI Customization</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="showSection('advanced')">
                            <span class="nav-icon">‚ö°</span>
                            <span>Advanced</span>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- Content Area -->
            <div class="settings-content">
                <!-- General Settings -->
                <div class="content-section active" id="generalSection">
                    <div class="section-header">
                        <div class="section-title">General Settings</div>
                        <div class="section-description">Basic system preferences and behavior</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üéõÔ∏è</span>
                            <span>Appearance</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Theme</div>
                                <div class="setting-description">Choose your preferred color scheme</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="themeSelect" onchange="markDirty()">
                                    <option value="dark">Dark</option>
                                    <option value="light">Light</option>
                                    <option value="auto">Auto (System)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Language</div>
                                <div class="setting-description">Interface language</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="languageSelect" onchange="markDirty()">
                                    <option value="sk">Slovenƒçina</option>
                                    <option value="en">English</option>
                                    <option value="de">Deutsch</option>
                                    <option value="fr">Fran√ßais</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Font Size</div>
                                <div class="setting-description">Interface font size</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-control" id="fontSizeSlider">
                                    <div class="slider-thumb" id="fontSizeThumb" style="left: 50%;"></div>
                                </div>
                                <div class="slider-value" id="fontSizeValue">100%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîî</span>
                            <span>Notifications</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Enable Notifications</div>
                                <div class="setting-description">Show system notifications</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="notificationsToggle" onclick="toggleSetting(this, 'notifications')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Notification Sounds</div>
                                <div class="setting-description">Play sound with notifications</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="notificationSoundsToggle" onclick="toggleSetting(this, 'notificationSounds')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Notification Position</div>
                                <div class="setting-description">Where to show notifications</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="notificationPosition" onchange="markDirty()">
                                    <option value="top-right">Top Right</option>
                                    <option value="top-left">Top Left</option>
                                    <option value="bottom-right">Bottom Right</option>
                                    <option value="bottom-left">Bottom Left</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- System Settings -->
                <div class="content-section" id="systemSection">
                    <div class="section-header">
                        <div class="section-title">System Information</div>
                        <div class="section-description">System status and information</div>
                    </div>
                    
                    <div class="system-info-grid">
                        <div class="info-card">
                            <div class="info-title">Operating System</div>
                            <div class="info-value" id="osInfo">AI Autonomous OS</div>
                            <div class="info-detail" id="osVersion">Version 2.0</div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">Platform</div>
                            <div class="info-value" id="platformInfo">Cross-Platform</div>
                            <div class="info-detail" id="platformDetail">Linux & iOS Compatible</div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">Architecture</div>
                            <div class="info-value" id="archInfo">x64 / ARM64</div>
                            <div class="info-detail" id="archDetail">Multi-Architecture Support</div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">Memory</div>
                            <div class="info-value" id="memoryInfo">16 GB</div>
                            <div class="info-detail" id="memoryDetail">Available: 12 GB</div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">‚ö°</span>
                            <span>Performance</span>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-header">
                                <div class="progress-label">CPU Usage</div>
                                <div class="progress-value" id="cpuValue">25%</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="cpuProgress" style="width: 25%;"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-header">
                                <div class="progress-label">Memory Usage</div>
                                <div class="progress-value" id="memoryValue">45%</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="memoryProgress" style="width: 45%;"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-header">
                                <div class="progress-label">Storage Usage</div>
                                <div class="progress-value" id="storageValue">67%</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="storageProgress" style="width: 67%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîÑ</span>
                            <span>System Actions</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Restart System</div>
                                <div class="setting-description">Restart the AI OS system</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-secondary" onclick="restartSystem()">Restart</button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Update System</div>
                                <div class="setting-description">Check for and install system updates</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-primary" onclick="updateSystem()">Update Now</button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">System Diagnostics</div>
                                <div class="setting-description">Run comprehensive system diagnostics</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-secondary" onclick="runDiagnostics()">Run Tests</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Linux Settings -->
                <div class="content-section" id="linuxSection">
                    <div class="section-header">
                        <div class="section-title">üêß Linux Configuration</div>
                        <div class="section-description">Linux-specific system settings and integrations</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üì¶</span>
                            <span>Package Management</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Update Packages</div>
                                <div class="setting-description">Automatically update system packages</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="linuxAutoUpdate" onclick="toggleSetting(this, 'linuxAutoUpdate')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Package Repository</div>
                                <div class="setting-description">Primary package repository</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="linuxRepo" onchange="markDirty()">
                                    <option value="ubuntu">Ubuntu Main</option>
                                    <option value="debian">Debian Stable</option>
                                    <option value="arch">Arch Linux</option>
                                    <option value="fedora">Fedora Updates</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîß</span>
                            <span>System Services</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Enable SSH</div>
                                <div class="setting-description">Allow remote SSH access</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="linuxSSH" onclick="toggleSetting(this, 'linuxSSH')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Firewall Status</div>
                                <div class="setting-description">Linux firewall protection</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="linuxFirewall" onclick="toggleSetting(this, 'linuxFirewall')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üíª</span>
                            <span>Desktop Environment</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Default Desktop</div>
                                <div class="setting-description">Preferred desktop environment</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="linuxDesktop" onchange="markDirty()">
                                    <option value="gnome">GNOME</option>
                                    <option value="kde">KDE Plasma</option>
                                    <option value="xfce">XFCE</option>
                                    <option value="cinnamon">Cinnamon</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Window Manager</div>
                                <div class="setting-description">Window management system</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="linuxWM" onchange="markDirty()">
                                    <option value="mutter">Mutter (GNOME)</option>
                                    <option value="kwin">KWin (KDE)</option>
                                    <option value="xfwm4">Xfwm4 (XFCE)</option>
                                    <option value="i3">i3 (Tiling)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">‚ö°</span>
                            <span>Linux Commands</span>
                        </div>
                        
                        <div class="linux-terminal">
                            <div class="terminal-prompt">user@ai-os:~$</div>
                            <div class="terminal-output">systemctl status ai-os-kernel</div>
                            <div class="terminal-output">‚óè ai-os-kernel.service - AI OS Kernel Service</div>
                            <div class="terminal-output">   Loaded: loaded (/etc/systemd/system/ai-os-kernel.service)</div>
                            <div class="terminal-output">   Active: active (running)</div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn btn-secondary" onclick="executeCommand('ps aux | grep ai')">Show AI Processes</button>
                            <button class="btn btn-secondary" onclick="executeCommand('df -h')">Disk Usage</button>
                            <button class="btn btn-secondary" onclick="executeCommand('free -h')">Memory Info</button>
                        </div>
                    </div>
                </div>
                
                <!-- iOS Settings -->
                <div class="content-section" id="iosSection">
                    <div class="section-header">
                        <div class="section-title">üì± iOS Configuration</div>
                        <div class="section-description">iOS-specific settings and app integrations</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîó</span>
                            <span>iOS Integration</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Enable iOS Bridge</div>
                                <div class="setting-description">Allow communication with iOS devices</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="iosBridge" onclick="toggleSetting(this, 'iosBridge')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Install Apps</div>
                                <div class="setting-description">Automatically install apps on iOS devices</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="iosAutoInstall" onclick="toggleSetting(this, 'iosAutoInstall')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üì±</span>
                            <span>Device Management</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Connected Devices</div>
                                <div class="setting-description">Manage iOS device connections</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="iosDevice" onchange="markDirty()">
                                    <option value="none">No devices connected</option>
                                    <option value="iphone">iPhone (Simulator)</option>
                                    <option value="ipad">iPad (Simulator)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">iOS Version</div>
                                <div class="setting-description">Target iOS version for compatibility</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="iosVersion" onchange="markDirty()">
                                    <option value="15.0">iOS 15.0+</option>
                                    <option value="14.0">iOS 14.0+</option>
                                    <option value="13.0">iOS 13.0+</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üé®</span>
                            <span>App Configuration</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">App Store Integration</div>
                                <div class="setting-description">Link with App Store for app management</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="iosAppStore" onclick="toggleSetting(this, 'iosAppStore')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">TestFlight Beta</div>
                                <div class="setting-description">Enable TestFlight for beta app distribution</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="iosTestFlight" onclick="toggleSetting(this, 'iosTestFlight')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üöÄ</span>
                            <span>Launch Options</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">App Launch Method</div>
                                <div class="setting-description">How to launch iOS apps</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="iosLaunchMethod" onchange="markDirty()">
                                    <option value="url-scheme">URL Scheme</option>
                                    <option value="custom-url">Custom URL</option>
                                    <option value="deep-link">Deep Link</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Background App Refresh</div>
                                <div class="setting-description">Allow apps to refresh in background</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="iosBackgroundRefresh" onclick="toggleSetting(this, 'iosBackgroundRefresh')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- GUI Customization Settings -->
                <div class="content-section" id="guiSection">
                    <div class="section-header">
                        <div class="section-title">GUI Customization</div>
                        <div class="section-description">Personalize the appearance and layout of your AI OS</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üé®</span>
                            <span>Theme & Colors</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Theme Preset</div>
                                <div class="setting-description">Choose from predefined color schemes</div>
                            </div>
                            <div class="setting-control">
                                <div class="theme-grid">
                                    <div class="theme-option active" data-theme="dark" onclick="selectTheme('dark')">
                                        <div class="theme-preview dark-theme">
                                            <div class="theme-header"></div>
                                            <div class="theme-body"></div>
                                        </div>
                                        <div class="theme-name">Dark</div>
                                    </div>
                                    <div class="theme-option" data-theme="light" onclick="selectTheme('light')">
                                        <div class="theme-preview light-theme">
                                            <div class="theme-header"></div>
                                            <div class="theme-body"></div>
                                        </div>
                                        <div class="theme-name">Light</div>
                                    </div>
                                    <div class="theme-option" data-theme="cyberpunk" onclick="selectTheme('cyberpunk')">
                                        <div class="theme-preview cyberpunk-theme">
                                            <div class="theme-header"></div>
                                            <div class="theme-body"></div>
                                        </div>
                                        <div class="theme-name">Cyberpunk</div>
                                    </div>
                                    <div class="theme-option" data-theme="neon" onclick="selectTheme('neon')">
                                        <div class="theme-preview neon-theme">
                                            <div class="theme-header"></div>
                                            <div class="theme-body"></div>
                                        </div>
                                        <div class="theme-name">Neon</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Primary Color</div>
                                <div class="setting-description">Main accent color for UI elements</div>
                            </div>
                            <div class="setting-control">
                                <div class="color-picker-group">
                                    <input type="color" id="primaryColor" value="#00d4ff" onchange="updateColor('primary', this.value)">
                                    <input type="text" class="color-hex" value="#00d4ff" readonly>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Secondary Color</div>
                                <div class="setting-description">Secondary accent color for highlights</div>
                            </div>
                            <div class="setting-control">
                                <div class="color-picker-group">
                                    <input type="color" id="secondaryColor" value="#0099cc" onchange="updateColor('secondary', this.value)">
                                    <input type="text" class="color-hex" value="#0099cc" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üî§</span>
                            <span>Typography</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Font Family</div>
                                <div class="setting-description">Choose the system font</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="fontFamily" onchange="updateFontFamily(this.value)">
                                    <option value="system">System Default</option>
                                    <option value="roboto">Roboto</option>
                                    <option value="opensans">Open Sans</option>
                                    <option value="lato">Lato</option>
                                    <option value="montserrat">Montserrat</option>
                                    <option value="poppins">Poppins</option>
                                    <option value="sourcelight">Source Sans Pro</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Font Size</div>
                                <div class="setting-description">Adjust overall text size</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="80" max="150" value="100" id="fontSizeSlider" oninput="updateFontSize(this.value)">
                                    <div class="slider-thumb" id="fontSizeThumb"></div>
                                    <div class="slider-value" id="fontSizeValue">100%</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Line Height</div>
                                <div class="setting-description">Vertical spacing between text lines</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="1.0" max="2.0" step="0.1" value="1.4" id="lineHeightSlider" oninput="updateLineHeight(this.value)">
                                    <div class="slider-thumb" id="lineHeightThumb"></div>
                                    <div class="slider-value" id="lineHeightValue">1.4</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üìê</span>
                            <span>Layout & Spacing</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Desktop Layout</div>
                                <div class="setting-description">Choose desktop arrangement style</div>
                            </div>
                            <div class="setting-control">
                                <div class="layout-options">
                                    <div class="layout-option active" data-layout="traditional" onclick="selectLayout('traditional')">
                                        <div class="layout-preview traditional-layout"></div>
                                        <div class="layout-name">Traditional</div>
                                    </div>
                                    <div class="layout-option" data-layout="modern" onclick="selectLayout('modern')">
                                        <div class="layout-preview modern-layout"></div>
                                        <div class="layout-name">Modern</div>
                                    </div>
                                    <div class="layout-option" data-layout="compact" onclick="selectLayout('compact')">
                                        <div class="layout-preview compact-layout"></div>
                                        <div class="layout-name">Compact</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Window Border Radius</div>
                                <div class="setting-description">Curvature of window corners</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="0" max="20" value="8" id="borderRadiusSlider" oninput="updateBorderRadius(this.value)">
                                    <div class="slider-thumb" id="borderRadiusThumb"></div>
                                    <div class="slider-value" id="borderRadiusValue">8px</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Animation Speed</div>
                                <div class="setting-description">Speed of UI transitions and animations</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="animationSpeed" onchange="updateAnimationSpeed(this.value)">
                                    <option value="slow">Slow</option>
                                    <option value="normal" selected>Normal</option>
                                    <option value="fast">Fast</option>
                                    <option value="instant">Instant</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üñ•Ô∏è</span>
                            <span>Screen Resolution</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Display Resolution</div>
                                <div class="setting-description">Change screen resolution and scaling</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="screenResolution" onchange="updateScreenResolution(this.value)">
                                    <option value="hd">1280√ó720 (HD)</option>
                                    <option value="fhd" selected>1920√ó1080 (Full HD)</option>
                                    <option value="2k">2560√ó1440 (2K)</option>
                                    <option value="4k">3840√ó2160 (4K)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Scale Factor</div>
                                <div class="setting-description">UI scaling for different resolutions</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="50" max="200" value="100" id="scaleFactorSlider" oninput="updateScaleFactor(this.value)">
                                    <div class="slider-thumb" id="scaleFactorThumb"></div>
                                    <div class="slider-value" id="scaleFactorValue">100%</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto Window Management</div>
                                <div class="setting-description">Automatically adjust window positions when changing resolution</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="autoWindowManagement" onclick="toggleSetting(this, 'autoWindowManagement')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üíæ</span>
                            <span>Custom CSS</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Custom Styling</div>
                                <div class="setting-description">Apply your own CSS rules to the interface</div>
                            </div>
                            <div class="setting-control">
                                <textarea class="textarea-control" id="customCSS" placeholder="/* Enter your custom CSS here */" rows="6" onchange="updateCustomCSS(this.value)"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Advanced Settings -->
                <!-- Network Settings -->
                <div class="content-section" id="networkSection">
                    <div class="section-header">
                        <div class="section-title">Network Settings</div>
                        <div class="section-description">Configure network connections and internet access</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üì°</span>
                            <span>WiFi Configuration</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">WiFi Status</div>
                                <div class="setting-description">Current wireless network connection</div>
                            </div>
                            <div class="setting-control">
                                <div class="status-indicator active">Connected</div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Available Networks</div>
                                <div class="setting-description">Scan for available wireless networks</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-secondary" onclick="scanWiFi()">Scan Networks</button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Connect</div>
                                <div class="setting-description">Automatically connect to saved networks</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="wifiAutoConnect" onclick="toggleSetting(this, 'wifiAutoConnect')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üåê</span>
                            <span>Network Preferences</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Ethernet Priority</div>
                                <div class="setting-description">Prefer wired over wireless connection</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="ethernetPriority" onclick="toggleSetting(this, 'ethernetPriority')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">DNS Settings</div>
                                <div class="setting-description">Domain Name System configuration</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="dnsSetting" onchange="markDirty()">
                                    <option value="auto">Automatic (DHCP)</option>
                                    <option value="cloudflare">Cloudflare (1.1.1.1)</option>
                                    <option value="google">Google (8.8.8.8)</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Proxy Settings</div>
                                <div class="setting-description">Proxy server configuration</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="proxySetting" onchange="markDirty()">
                                    <option value="none">No Proxy</option>
                                    <option value="auto">Auto-detect proxy</option>
                                    <option value="manual">Manual proxy</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîí</span>
                            <span>Security</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Firewall</div>
                                <div class="setting-description">Enable network firewall protection</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="firewall" onclick="toggleSetting(this, 'firewall')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Block Ads</div>
                                <div class="setting-description">Filter advertisements across network</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="blockAds" onclick="toggleSetting(this, 'blockAds')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Settings -->
                <div class="content-section" id="securitySection">
                    <div class="section-header">
                        <div class="section-title">Security Settings</div>
                        <div class="section-description">Configure security and privacy settings</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üõ°Ô∏è</span>
                            <span>Access Control</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">System Lock</div>
                                <div class="setting-description">Lock system after inactivity</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="systemLock" onclick="toggleSetting(this, 'systemLock')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Lock Timeout</div>
                                <div class="setting-description">Time before automatic lock (minutes)</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="1" max="60" value="15" id="lockTimeout" oninput="updateLockTimeout(this.value)">
                                    <div class="slider-thumb"></div>
                                    <div class="slider-value" id="lockTimeoutValue">15 min</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Guest Access</div>
                                <div class="setting-description">Allow guest users to access system</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="guestAccess" onclick="toggleSetting(this, 'guestAccess')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîê</span>
                            <span>Privacy</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Telemetry</div>
                                <div class="setting-description">Share anonymous usage data</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="telemetry" onclick="toggleSetting(this, 'telemetry')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Location Services</div>
                                <div class="setting-description">Allow location-based services</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="locationServices" onclick="toggleSetting(this, 'locationServices')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Data Encryption</div>
                                <div class="setting-description">Encrypt stored data and communications</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="dataEncryption" onclick="toggleSetting(this, 'dataEncryption')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîç</span>
                            <span>Monitoring</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Intrusion Detection</div>
                                <div class="setting-description">Monitor for unauthorized access attempts</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="intrusionDetection" onclick="toggleSetting(this, 'intrusionDetection')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Security Logs</div>
                                <div class="setting-description">Keep detailed security event logs</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="securityLogs" onclick="toggleSetting(this, 'securityLogs')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Storage Settings -->
                <div class="content-section" id="storageSection">
                    <div class="section-header">
                        <div class="section-title">Storage Settings</div>
                        <div class="section-description">Manage disk space and storage devices</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üíæ</span>
                            <span>Disk Usage</span>
                        </div>
                        
                        <div class="storage-info-grid">
                            <div class="storage-card">
                                <div class="storage-title">System Drive</div>
                                <div class="storage-value">234 GB / 500 GB</div>
                                <div class="storage-bar">
                                    <div class="storage-fill" style="width: 47%;"></div>
                                </div>
                                <div class="storage-detail">47% used</div>
                            </div>
                            <div class="storage-card">
                                <div class="storage-title">User Data</div>
                                <div class="storage-value">89 GB / 256 GB</div>
                                <div class="storage-bar">
                                    <div class="storage-fill" style="width: 35%;"></div>
                                </div>
                                <div class="storage-detail">35% used</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üóÇÔ∏è</span>
                            <span>File Management</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Cleanup</div>
                                <div class="setting-description">Automatically remove temporary files</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="autoCleanup" onclick="toggleSetting(this, 'autoCleanup')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Cleanup Frequency</div>
                                <div class="setting-description">How often to run cleanup</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="cleanupFrequency" onchange="markDirty()">
                                    <option value="daily">Daily</option>
                                    <option value="weekly" selected>Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Recycle Bin</div>
                                <div class="setting-description">Automatically empty recycle bin</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="autoEmptyBin" onclick="toggleSetting(this, 'autoEmptyBin')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîß</span>
                            <span>Storage Optimization</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Disk Defragmentation</div>
                                <div class="setting-description">Optimize disk performance</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-secondary" onclick="defragmentDisk()">Run Defragmentation</button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">File Compression</div>
                                <div class="setting-description">Compress rarely used files</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="fileCompression" onclick="toggleSetting(this, 'fileCompression')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Display Settings -->
                <div class="content-section" id="displaySection">
                    <div class="section-header">
                        <div class="section-title">Display Settings</div>
                        <div class="section-description">Configure display preferences and output</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üñ•Ô∏è</span>
                            <span>Screen Configuration</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Resolution</div>
                                <div class="setting-description">Screen resolution settings</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="displayResolution" onchange="updateDisplayResolution(this.value)">
                                    <option value="1280x720">1280√ó720 (HD)</option>
                                    <option value="1920x1080" selected>1920√ó1080 (Full HD)</option>
                                    <option value="2560x1440">2560√ó1440 (2K)</option>
                                    <option value="3840x2160">3840√ó2160 (4K)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Refresh Rate</div>
                                <div class="setting-description">Screen refresh rate (Hz)</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="refreshRate" onchange="markDirty()">
                                    <option value="60">60 Hz</option>
                                    <option value="120">120 Hz</option>
                                    <option value="144" selected>144 Hz</option>
                                    <option value="240">240 Hz</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Brightness</div>
                                <div class="setting-description">Screen brightness level</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="0" max="100" value="80" id="brightnessSlider" oninput="updateBrightness(this.value)">
                                    <div class="slider-thumb"></div>
                                    <div class="slider-value" id="brightnessValue">80%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üé®</span>
                            <span>Color & Gamma</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Color Temperature</div>
                                <div class="setting-description">Blue light filtering</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="2700" max="6500" value="5000" id="colorTempSlider" oninput="updateColorTemp(this.value)">
                                    <div class="slider-thumb"></div>
                                    <div class="slider-value" id="colorTempValue">5000K</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Night Mode</div>
                                <div class="setting-description">Reduce blue light for better sleep</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="nightMode" onclick="toggleSetting(this, 'nightMode')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto Night Mode</div>
                                <div class="setting-description">Automatically enable night mode at sunset</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="autoNightMode" onclick="toggleSetting(this, 'autoNightMode')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üì±</span>
                            <span>Multi-Display</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Extended Display</div>
                                <div class="setting-description">Use additional monitors</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="extendedDisplay" onclick="toggleSetting(this, 'extendedDisplay')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Duplicate Display</div>
                                <div class="setting-description">Mirror content on all displays</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="duplicateDisplay" onclick="toggleSetting(this, 'duplicateDisplay')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Audio Settings -->
                <div class="content-section" id="audioSection">
                    <div class="section-header">
                        <div class="section-title">Audio Settings</div>
                        <div class="section-description">Configure sound and audio preferences</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîä</span>
                            <span>Sound Output</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Master Volume</div>
                                <div class="setting-description">Overall system volume</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="0" max="100" value="75" id="masterVolume" oninput="updateMasterVolume(this.value)">
                                    <div class="slider-thumb"></div>
                                    <div class="slider-value" id="masterVolumeValue">75%</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Output Device</div>
                                <div class="setting-description">Choose audio output device</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="outputDevice" onchange="markDirty()">
                                    <option value="speakers">Built-in Speakers</option>
                                    <option value="headphones">Headphones</option>
                                    <option value="bluetooth">Bluetooth Audio</option>
                                    <option value="hdmi">HDMI Audio</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Audio Quality</div>
                                <div class="setting-description">Audio processing quality</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="audioQuality" onchange="markDirty()">
                                    <option value="basic">Basic (44.1 kHz)</option>
                                    <option value="high" selected>High (48 kHz)</option>
                                    <option value="studio">Studio (96 kHz)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üéµ</span>
                            <span>Sound Effects</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">System Sounds</div>
                                <div class="setting-description">Play sounds for system events</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="systemSounds" onclick="toggleSetting(this, 'systemSounds')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Notification Sounds</div>
                                <div class="setting-description">Sound for notifications</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="notificationSounds" onclick="toggleSetting(this, 'notificationSounds')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Sound Theme</div>
                                <div class="setting-description">Choose system sound theme</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="soundTheme" onchange="markDirty()">
                                    <option value="default" selected>Default</option>
                                    <option value="minimal">Minimal</option>
                                    <option value="ambient">Ambient</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üéß</span>
                            <span>Microphone</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Input Device</div>
                                <div class="setting-description">Choose microphone input</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="inputDevice" onchange="markDirty()">
                                    <option value="built-in">Built-in Microphone</option>
                                    <option value="usb">USB Microphone</option>
                                    <option value="bluetooth">Bluetooth Headset</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Input Volume</div>
                                <div class="setting-description">Microphone sensitivity</div>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" class="slider" min="0" max="100" value="50" id="inputVolume" oninput="updateInputVolume(this.value)">
                                    <div class="slider-thumb"></div>
                                    <div class="slider-value" id="inputVolumeValue">50%</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Noise Cancellation</div>
                                <div class="setting-description">Reduce background noise</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="noiseCancellation" onclick="toggleSetting(this, 'noiseCancellation')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Power Settings -->
                <div class="content-section" id="powerSection">
                    <div class="section-header">
                        <div class="section-title">Power Settings</div>
                        <div class="section-description">Configure power management and battery</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîã</span>
                            <span>Battery Management</span>
                        </div>
                        
                        <div class="battery-status">
                            <div class="battery-icon">üîã</div>
                            <div class="battery-info">
                                <div class="battery-level">78%</div>
                                <div class="battery-status-text">Battery level</div>
                                <div class="battery-time">~4 hours remaining</div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Battery Saver</div>
                                <div class="setting-description">Extend battery life with power saving</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="batterySaver" onclick="toggleSetting(this, 'batterySaver')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Auto-Low Battery Mode</div>
                                <div class="setting-description">Automatically enable power saving when battery is low</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="autoLowBattery" onclick="toggleSetting(this, 'autoLowBattery')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">‚è∞</span>
                            <span>Sleep Settings</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Sleep After Inactivity</div>
                                <div class="setting-description">Automatically sleep after inactivity</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="sleepTimeout" onchange="markDirty()">
                                    <option value="5">5 minutes</option>
                                    <option value="10">10 minutes</option>
                                    <option value="30" selected>30 minutes</option>
                                    <option value="60">1 hour</option>
                                    <option value="never">Never</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Display Sleep</div>
                                <div class="setting-description">Turn off display after inactivity</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="displaySleep" onchange="markDirty()">
                                    <option value="1">1 minute</option>
                                    <option value="5" selected>5 minutes</option>
                                    <option value="15">15 minutes</option>
                                    <option value="30">30 minutes</option>
                                    <option value="never">Never</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Wake on Activity</div>
                                <div class="setting-description">Wake system on mouse/keyboard activity</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="wakeOnActivity" onclick="toggleSetting(this, 'wakeOnActivity')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">‚ö°</span>
                            <span>Performance</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Performance Mode</div>
                                <div class="setting-description">Maximum performance vs battery life</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="performanceMode" onchange="updatePerformanceMode(this.value)">
                                    <option value="battery">Battery Optimized</option>
                                    <option value="balanced" selected>Balanced</option>
                                    <option value="performance">Maximum Performance</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">CPU Scaling</div>
                                <div class="setting-description">Adjust CPU frequency based on load</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="cpuScaling" onclick="toggleSetting(this, 'cpuScaling')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">USB Power Management</div>
                                <div class="setting-description">Reduce power to USB devices when idle</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="usbPowerMgmt" onclick="toggleSetting(this, 'usbPowerMgmt')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-section" id="advancedSection">
                    <div class="section-header">
                        <div class="section-title">Advanced Settings</div>
                        <div class="section-description">Advanced system configuration and developer options</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üîß</span>
                            <span>Developer Options</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Debug Mode</div>
                                <div class="setting-description">Enable detailed logging and debug information</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch" id="debugMode" onclick="toggleSetting(this, 'debugMode')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">API Access</div>
                                <div class="setting-description">Allow programmatic access to system APIs</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="apiAccess" onclick="toggleSetting(this, 'apiAccess')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Performance Monitoring</div>
                                <div class="setting-description">Enable real-time performance monitoring</div>
                            </div>
                            <div class="setting-control">
                                <div class="toggle-switch active" id="perfMonitoring" onclick="toggleSetting(this, 'perfMonitoring')">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">üíæ</span>
                            <span>Data Management</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Cache Location</div>
                                <div class="setting-description">Directory for temporary files and cache</div>
                            </div>
                            <div class="setting-control">
                                <input type="text" class="input-control" id="cacheLocation" value="/tmp/ai-os-cache" onchange="markDirty()">
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Log Level</div>
                                <div class="setting-description">System logging verbosity</div>
                            </div>
                            <div class="setting-control">
                                <select class="select-control" id="logLevel" onchange="markDirty()">
                                    <option value="error">Error Only</option>
                                    <option value="warn">Warnings</option>
                                    <option value="info" selected>Information</option>
                                    <option value="debug">Debug</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="group-title">
                            <span class="group-icon">‚ö†Ô∏è</span>
                            <span>Danger Zone</span>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Reset All Settings</div>
                                <div class="setting-description">Restore all settings to factory defaults</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-danger" onclick="resetAllSettings()">Reset All</button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <div class="setting-name">Clear All Data</div>
                                <div class="setting-description">Remove all user data and configurations</div>
                            </div>
                            <div class="setting-control">
                                <button class="btn btn-danger" onclick="clearAllData()">Clear Data</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /**
         * AI System Settings Interface
         * Complete system configuration with Linux and iOS integration
         */
        class SystemSettings {
            constructor() {
                this.settings = new Map();
                this.dirty = false;
                this.currentSection = 'general';
                
                this.init();
            }
            
            init() {
                console.log("‚öôÔ∏è Initializing System Settings...");
                
                try {
                    this.loadSettings();
                    this.setupEventListeners();
                    this.startSystemMonitoring();
                    this.setupSliders();
                    this.setupGUISection();
                    
                    console.log("‚úÖ System Settings ready");
                    
                } catch (error) {
                    console.error("‚ùå Failed to initialize System Settings:", error);
                }
            }
            
            loadSettings() {
                // Load settings from storage or set defaults
                const defaults = {
                    theme: 'dark',
                    language: 'sk',
                    fontSize: 100,
                    notifications: true,
                    notificationSounds: true,
                    notificationPosition: 'top-right',
                    
                    // Linux settings
                    linuxAutoUpdate: true,
                    linuxRepo: 'ubuntu',
                    linuxSSH: false,
                    linuxFirewall: true,
                    linuxDesktop: 'gnome',
                    linuxWM: 'mutter',
                    
                    // iOS settings
                    iosBridge: true,
                    iosAutoInstall: false,
                    iosDevice: 'none',
                    iosVersion: '15.0',
                    iosAppStore: true,
                    iosTestFlight: false,
                    iosLaunchMethod: 'url-scheme',
                    iosBackgroundRefresh: true,
                    
                    // Advanced settings
                    debugMode: false,
                    apiAccess: true,
                    perfMonitoring: true,
                    cacheLocation: '/tmp/ai-os-cache',
                    logLevel: 'info',
                    
                    // GUI settings
                    guiTheme: 'dark',
                    primaryColor: '#00d4ff',
                    secondaryColor: '#0099cc',
                    fontFamily: 'system',
                    fontSize: 100,
                    lineHeight: 1.4,
                    layout: 'traditional',
                    borderRadius: 8,
                    animationSpeed: 'normal',
                    customCSS: '',
                    
                    // Screen settings
                    screenResolution: 'fhd',
                    scaleFactor: 100,
                    autoWindowManagement: true
                };
                
                // Load from localStorage or use defaults
                const saved = localStorage.getItem('ai-system-settings');
                if (saved) {
                    try {
                        const parsed = JSON.parse(saved);
                        Object.assign(defaults, parsed);
                    } catch (error) {
                        console.warn('Failed to parse saved settings, using defaults');
                    }
                }
                
                // Apply settings to UI
                Object.entries(defaults).forEach(([key, value]) => {
                    this.settings.set(key, value);
                    this.applySettingToUI(key, value);
                });
                
                this.dirty = false;
                this.updateSaveButton();
            }
            
            applySettingToUI(key, value) {
                const element = document.getElementById(this.getElementId(key));
                if (!element) return;
                
                switch (key) {
                    case 'fontSize':
                        const thumb = document.getElementById('fontSizeThumb');
                        const valueDisplay = document.getElementById('fontSizeValue');
                        if (thumb && valueDisplay) {
                            thumb.style.left = `${value}%`;
                            valueDisplay.textContent = `${value}%`;
                        }
                        break;
                    case 'theme':
                    case 'language':
                    case 'linuxRepo':
                    case 'linuxDesktop':
                    case 'linuxWM':
                    case 'iosDevice':
                    case 'iosVersion':
                    case 'iosLaunchMethod':
                    case 'cacheLocation':
                    case 'logLevel':
                        element.value = value;
                        break;
                    case 'notifications':
                    case 'notificationSounds':
                    case 'linuxAutoUpdate':
                    case 'linuxSSH':
                    case 'linuxFirewall':
                    case 'iosBridge':
                    case 'iosAutoInstall':
                    case 'iosAppStore':
                    case 'iosTestFlight':
                    case 'iosBackgroundRefresh':
                    case 'debugMode':
                    case 'apiAccess':
                    case 'perfMonitoring':
                        const toggle = document.getElementById(this.getElementId(key));
                        if (toggle) {
                            if (value) {
                                toggle.classList.add('active');
                            } else {
                                toggle.classList.remove('active');
                            }
                        }
                        break;
                }
            }
            
            getElementId(key) {
                const mapping = {
                    theme: 'themeSelect',
                    language: 'languageSelect',
                    fontSize: 'fontSizeSlider',
                    notifications: 'notificationsToggle',
                    notificationSounds: 'notificationSoundsToggle',
                    notificationPosition: 'notificationPosition',
                    linuxAutoUpdate: 'linuxAutoUpdate',
                    linuxRepo: 'linuxRepo',
                    linuxSSH: 'linuxSSH',
                    linuxFirewall: 'linuxFirewall',
                    linuxDesktop: 'linuxDesktop',
                    linuxWM: 'linuxWM',
                    iosBridge: 'iosBridge',
                    iosAutoInstall: 'iosAutoInstall',
                    iosDevice: 'iosDevice',
                    iosVersion: 'iosVersion',
                    iosAppStore: 'iosAppStore',
                    iosTestFlight: 'iosTestFlight',
                    iosLaunchMethod: 'iosLaunchMethod',
                    iosBackgroundRefresh: 'iosBackgroundRefresh',
                    debugMode: 'debugMode',
                    apiAccess: 'apiAccess',
                    perfMonitoring: 'perfMonitoring',
                    cacheLocation: 'cacheLocation',
                    logLevel: 'logLevel'
                };
                return mapping[key] || key;
            }
            
            setupEventListeners() {
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.key === 's') {
                        e.preventDefault();
                        this.saveSettings();
                    } else if (e.key === 'Escape') {
                        if (this.dirty && !confirm('You have unsaved changes. Are you sure you want to leave?')) {
                            e.preventDefault();
                        }
                    }
                });
                
                // Font size slider
                const fontSizeSlider = document.getElementById('fontSizeSlider');
                if (fontSizeSlider) {
                    let isDragging = false;
                    
                    fontSizeSlider.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        this.updateFontSize(e);
                    });
                    
                    document.addEventListener('mousemove', (e) => {
                        if (isDragging) {
                            this.updateFontSize(e);
                        }
                    });
                    
                    document.addEventListener('mouseup', () => {
                        isDragging = false;
                    });
                }
            }
            
            updateFontSize(e) {
                const slider = document.getElementById('fontSizeSlider');
                const thumb = document.getElementById('fontSizeThumb');
                const valueDisplay = document.getElementById('fontSizeValue');
                
                if (!slider || !thumb || !valueDisplay) return;
                
                const rect = slider.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
                
                thumb.style.left = `${percentage}%`;
                valueDisplay.textContent = `${Math.round(percentage)}%`;
                
                this.settings.set('fontSize', Math.round(percentage));
                this.markDirty();
            }
            
            setupSliders() {
                // Initialize font size slider
                const currentSize = this.settings.get('fontSize') || 100;
                const thumb = document.getElementById('fontSizeThumb');
                const valueDisplay = document.getElementById('fontSizeValue');
                
                if (thumb && valueDisplay) {
                    thumb.style.left = `${currentSize}%`;
                    valueDisplay.textContent = `${currentSize}%`;
                }
                
                // Initialize line height slider
                const currentLineHeight = this.settings.get('lineHeight') || 1.4;
                const lineHeightThumb = document.getElementById('lineHeightThumb');
                const lineHeightValue = document.getElementById('lineHeightValue');
                
                if (lineHeightThumb && lineHeightValue) {
                    const percentage = ((currentLineHeight - 1.0) / (2.0 - 1.0)) * 100;
                    lineHeightThumb.style.left = `${percentage}%`;
                    lineHeightValue.textContent = currentLineHeight.toFixed(1);
                }
                
                // Initialize border radius slider
                const currentBorderRadius = this.settings.get('borderRadius') || 8;
                const borderRadiusThumb = document.getElementById('borderRadiusThumb');
                const borderRadiusValue = document.getElementById('borderRadiusValue');
                
                if (borderRadiusThumb && borderRadiusValue) {
                    const percentage = (currentBorderRadius / 20) * 100;
                    borderRadiusThumb.style.left = `${percentage}%`;
                    borderRadiusValue.textContent = `${currentBorderRadius}px`;
                }
            }
            
            // GUI Customization Methods
            selectTheme(theme) {
                this.settings.set('guiTheme', theme);
                this.markDirty();
                
                // Update UI
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.querySelector(`[data-theme="${theme}"]`).classList.add('active');
                
                this.applyTheme(theme);
            }
            
            updateColor(colorType, value) {
                this.settings.set(`${colorType}Color`, value);
                this.markDirty();
                
                // Update color hex display
                const hexInput = document.querySelector(`#${colorType}Color`).nextElementSibling;
                if (hexInput) {
                    hexInput.value = value;
                }
                
                this.applyColors();
            }
            
            updateFontFamily(fontFamily) {
                this.settings.set('fontFamily', fontFamily);
                this.markDirty();
                this.applyTypography();
            }
            
            updateFontSize(size) {
                this.settings.set('fontSize', size);
                this.markDirty();
                
                // Update slider display
                const thumb = document.getElementById('fontSizeThumb');
                const valueDisplay = document.getElementById('fontSizeValue');
                
                if (thumb && valueDisplay) {
                    thumb.style.left = `${size}%`;
                    valueDisplay.textContent = `${size}%`;
                }
                
                this.applyTypography();
            }
            
            updateLineHeight(height) {
                this.settings.set('lineHeight', height);
                this.markDirty();
                
                // Update slider display
                const thumb = document.getElementById('lineHeightThumb');
                const valueDisplay = document.getElementById('lineHeightValue');
                
                if (thumb && valueDisplay) {
                    const percentage = ((height - 1.0) / (2.0 - 1.0)) * 100;
                    thumb.style.left = `${percentage}%`;
                    valueDisplay.textContent = height.toFixed(1);
                }
                
                this.applyTypography();
            }
            
            selectLayout(layout) {
                this.settings.set('layout', layout);
                this.markDirty();
                
                // Update UI
                document.querySelectorAll('.layout-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.querySelector(`[data-layout="${layout}"]`).classList.add('active');
                
                this.applyLayout(layout);
            }
            
            updateBorderRadius(radius) {
                this.settings.set('borderRadius', radius);
                this.markDirty();
                
                // Update slider display
                const thumb = document.getElementById('borderRadiusThumb');
                const valueDisplay = document.getElementById('borderRadiusValue');
                
                if (thumb && valueDisplay) {
                    const percentage = (radius / 20) * 100;
                    thumb.style.left = `${percentage}%`;
                    valueDisplay.textContent = `${radius}px`;
                }
                
                this.applyLayout();
            }
            
            updateAnimationSpeed(speed) {
                this.settings.set('animationSpeed', speed);
                this.markDirty();
                this.applyAnimationSpeed();
            }
            
            updateCustomCSS(css) {
                this.settings.set('customCSS', css);
                this.markDirty();
                this.applyCustomCSS();
            }
            
            updateScreenResolution(resolution) {
                this.settings.set('screenResolution', resolution);
                this.markDirty();
                this.applyScreenResolution();
            }
            
            updateScaleFactor(factor) {
                this.settings.set('scaleFactor', factor);
                this.markDirty();
                
                // Update slider display
                const thumb = document.getElementById('scaleFactorThumb');
                const valueDisplay = document.getElementById('scaleFactorValue');
                
                if (thumb && valueDisplay) {
                    const percentage = ((factor - 50) / (200 - 50)) * 100;
                    thumb.style.left = `${percentage}%`;
                    valueDisplay.textContent = `${factor}%`;
                }
                
                this.applyScaleFactor();
            }
            
            applyScreenResolution() {
                const resolution = this.settings.get('screenResolution');
                const autoManagement = this.settings.get('autoWindowManagement');
                
                // Apply resolution to desktop (if available)
                if (window.aiOS && window.aiOS.setScreenResolution) {
                    window.aiOS.setScreenResolution(resolution);
                } else {
                    // Fallback for demo - just show notification
                    this.showNotification('Resolution Updated', `Screen resolution set to ${resolution.toUpperCase()}`);
                }
                
                if (autoManagement && window.aiOS && window.aiOS.adjustWindowsForResolution) {
                    setTimeout(() => {
                        window.aiOS.adjustWindowsForResolution(resolution);
                    }, 500);
                }
            }
            
            applyScaleFactor() {
                const scaleFactor = this.settings.get('scaleFactor');
                const scaleValue = scaleFactor / 100;
                
                document.documentElement.style.transform = `scale(${scaleValue})`;
                document.documentElement.style.transformOrigin = 'top left';
            }
            
            applyTheme(theme) {
                document.body.setAttribute('data-gui-theme', theme);
                this.showNotification('Theme Updated', `${theme.charAt(0).toUpperCase() + theme.slice(1)} theme applied`);
            }
            
            applyColors() {
                const primaryColor = this.settings.get('primaryColor');
                const secondaryColor = this.settings.get('secondaryColor');
                
                document.documentElement.style.setProperty('--primary-color', primaryColor);
                document.documentElement.style.setProperty('--secondary-color', secondaryColor);
            }
            
            applyTypography() {
                const fontFamily = this.settings.get('fontFamily');
                const fontSize = this.settings.get('fontSize');
                const lineHeight = this.settings.get('lineHeight');
                
                if (fontFamily !== 'system') {
                    document.body.style.fontFamily = fontFamily;
                }
                
                document.documentElement.style.fontSize = `${fontSize}%`;
                document.body.style.lineHeight = lineHeight;
            }
            
            applyLayout(layout) {
                document.body.setAttribute('data-layout', layout);
                this.applyBorderRadius();
            }
            
            applyBorderRadius() {
                const borderRadius = this.settings.get('borderRadius');
                document.documentElement.style.setProperty('--border-radius', `${borderRadius}px`);
            }
            
            applyAnimationSpeed() {
                const speed = this.settings.get('animationSpeed');
                let duration = '0.3s';
                
                switch (speed) {
                    case 'slow': duration = '0.5s'; break;
                    case 'normal': duration = '0.3s'; break;
                    case 'fast': duration = '0.1s'; break;
                    case 'instant': duration = '0s'; break;
                }
                
                document.documentElement.style.setProperty('--animation-duration', duration);
            }
            
            applyCustomCSS() {
                const customCSS = this.settings.get('customCSS');
                let styleElement = document.getElementById('customCSSStyle');
                
                if (!styleElement) {
                    styleElement = document.createElement('style');
                    styleElement.id = 'customCSSStyle';
                    document.head.appendChild(styleElement);
                }
                
                styleElement.textContent = customCSS;
            }
            
            setupGUISection() {
                // Initialize theme selection
                const currentTheme = this.settings.get('guiTheme') || 'dark';
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('active');
                    if (option.dataset.theme === currentTheme) {
                        option.classList.add('active');
                    }
                });
                
                // Initialize layout selection
                const currentLayout = this.settings.get('layout') || 'traditional';
                document.querySelectorAll('.layout-option').forEach(option => {
                    option.classList.remove('active');
                    if (option.dataset.layout === currentLayout) {
                        option.classList.add('active');
                    }
                });
                
                // Initialize color pickers
                const primaryColor = this.settings.get('primaryColor') || '#00d4ff';
                const secondaryColor = this.settings.get('secondaryColor') || '#0099cc';
                
                const primaryPicker = document.getElementById('primaryColor');
                const secondaryPicker = document.getElementById('secondaryColor');
                
                if (primaryPicker) {
                    primaryPicker.value = primaryColor;
                    primaryPicker.nextElementSibling.value = primaryColor;
                }
                
                if (secondaryPicker) {
                    secondaryPicker.value = secondaryColor;
                    secondaryPicker.nextElementSibling.value = secondaryColor;
                }
                
                // Initialize font family dropdown
                const fontFamily = this.settings.get('fontFamily') || 'system';
                const fontFamilySelect = document.getElementById('fontFamily');
                if (fontFamilySelect) {
                    fontFamilySelect.value = fontFamily;
                }
                
                // Initialize animation speed dropdown
                const animationSpeed = this.settings.get('animationSpeed') || 'normal';
                const animationSpeedSelect = document.getElementById('animationSpeed');
                if (animationSpeedSelect) {
                    animationSpeedSelect.value = animationSpeed;
                }
                
                // Initialize custom CSS textarea
                const customCSS = this.settings.get('customCSS') || '';
                const customCSSTextarea = document.getElementById('customCSS');
                if (customCSSTextarea) {
                    customCSSTextarea.value = customCSS;
                }
                
                // Initialize screen resolution dropdown
                const screenResolution = this.settings.get('screenResolution') || 'fhd';
                const screenResolutionSelect = document.getElementById('screenResolution');
                if (screenResolutionSelect) {
                    screenResolutionSelect.value = screenResolution;
                }
                
                // Initialize scale factor slider
                const currentScaleFactor = this.settings.get('scaleFactor') || 100;
                const scaleFactorThumb = document.getElementById('scaleFactorThumb');
                const scaleFactorValue = document.getElementById('scaleFactorValue');
                
                if (scaleFactorThumb && scaleFactorValue) {
                    const percentage = ((currentScaleFactor - 50) / (200 - 50)) * 100;
                    scaleFactorThumb.style.left = `${percentage}%`;
                    scaleFactorValue.textContent = `${currentScaleFactor}%`;
                }
                
                // Initialize auto window management toggle
                const autoWindowManagement = this.settings.get('autoWindowManagement') || true;
                const autoWindowToggle = document.getElementById('autoWindowManagement');
                if (autoWindowToggle) {
                    if (autoWindowManagement) {
                        autoWindowToggle.classList.add('active');
                    } else {
                        autoWindowToggle.classList.remove('active');
                    }
                }
            }
            
            startSystemMonitoring() {
                // Update system metrics periodically
                setInterval(() => {
                    this.updateSystemMetrics();
                }, 2000);
            }
            
            updateSystemMetrics() {
                // Simulate system metrics updates
                const cpuUsage = Math.floor(Math.random() * 30 + 15);
                const memoryUsage = Math.floor(Math.random() * 20 + 40);
                const storageUsage = Math.floor(Math.random() * 15 + 60);
                
                // Update CPU
                document.getElementById('cpuValue').textContent = `${cpuUsage}%`;
                document.getElementById('cpuProgress').style.width = `${cpuUsage}%`;
                
                // Update Memory
                document.getElementById('memoryValue').textContent = `${memoryUsage}%`;
                document.getElementById('memoryProgress').style.width = `${memoryUsage}%`;
                
                // Update Storage
                document.getElementById('storageValue').textContent = `${storageUsage}%`;
                document.getElementById('storageProgress').style.width = `${storageUsage}%`;
            }
            
            showSection(sectionName) {
                this.currentSection = sectionName;
                
                // Update navigation
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
                if (activeLink) activeLink.classList.add('active');
                
                // Show section
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                const targetSection = document.getElementById(`${sectionName}Section`);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            }
            
            toggleSetting(element, settingKey) {
                element.classList.toggle('active');
                const isActive = element.classList.contains('active');
                
                this.settings.set(settingKey, isActive);
                this.markDirty();
                
                // Show notification for important settings
                if (['linuxFirewall', 'iosBridge', 'debugMode'].includes(settingKey)) {
                    this.showNotification(
                        isActive ? 'Enabled' : 'Disabled', 
                        `${settingKey} ${isActive ? 'enabled' : 'disabled'}`
                    );
                }
            }
            
            markDirty() {
                this.dirty = true;
                this.updateSaveButton();
            }
            
            updateSaveButton() {
                const saveBtn = document.getElementById('saveBtn');
                if (saveBtn) {
                    saveBtn.disabled = !this.dirty;
                    saveBtn.textContent = this.dirty ? 'Save Changes' : 'All Changes Saved';
                }
            }
            
            saveSettings() {
                try {
                    // Save to localStorage
                    const settingsObj = Object.fromEntries(this.settings);
                    localStorage.setItem('ai-system-settings', JSON.stringify(settingsObj));
                    
                    // Apply settings immediately
                    this.applySettings();
                    
                    this.dirty = false;
                    this.updateSaveButton();
                    
                    this.showNotification('Success', 'Settings saved successfully!');
                    
                    console.log('‚úÖ Settings saved:', settingsObj);
                    
                } catch (error) {
                    console.error('‚ùå Failed to save settings:', error);
                    this.showNotification('Error', 'Failed to save settings');
                }
            }
            
            applySettings() {
                // Apply theme
                const theme = this.settings.get('theme');
                if (theme) {
                    document.body.setAttribute('data-theme', theme);
                }
                
                // Apply font size
                const fontSize = this.settings.get('fontSize');
                if (fontSize) {
                    document.documentElement.style.fontSize = `${fontSize}%`;
                }
                
                // Apply language
                const language = this.settings.get('language');
                if (language) {
                    document.documentElement.setAttribute('lang', language);
                }
                
                // Linux-specific settings
                const linuxSettings = this.getLinuxSettings();
                console.log('üêß Linux settings updated:', linuxSettings);
                
                // iOS-specific settings
                const iosSettings = this.getiOSSettings();
                console.log('üì± iOS settings updated:', iosSettings);
                
                // GUI-specific settings
                this.applyGUI();
            }
            
            applyGUI() {
                // Apply GUI theme
                const guiTheme = this.settings.get('guiTheme');
                if (guiTheme) {
                    this.applyTheme(guiTheme);
                }
                
                // Apply colors
                this.applyColors();
                
                // Apply typography
                this.applyTypography();
                
                // Apply layout
                const layout = this.settings.get('layout');
                if (layout) {
                    this.applyLayout(layout);
                }
                
                // Apply border radius
                this.applyBorderRadius();
                
                // Apply animation speed
                this.applyAnimationSpeed();
                
                // Apply custom CSS
                this.applyCustomCSS();
                
                // Apply screen settings
                this.applyScreenResolution();
                this.applyScaleFactor();
                
                console.log('üé® GUI settings applied');
            }
            
            getLinuxSettings() {
                return {
                    autoUpdate: this.settings.get('linuxAutoUpdate'),
                    repository: this.settings.get('linuxRepo'),
                    ssh: this.settings.get('linuxSSH'),
                    firewall: this.settings.get('linuxFirewall'),
                    desktop: this.settings.get('linuxDesktop'),
                    windowManager: this.settings.get('linuxWM')
                };
            }
            
            getiOSSettings() {
                return {
                    bridge: this.settings.get('iosBridge'),
                    autoInstall: this.settings.get('iosAutoInstall'),
                    device: this.settings.get('iosDevice'),
                    version: this.settings.get('iosVersion'),
                    appStore: this.settings.get('iosAppStore'),
                    testFlight: this.settings.get('iosTestFlight'),
                    launchMethod: this.settings.get('iosLaunchMethod'),
                    backgroundRefresh: this.settings.get('iosBackgroundRefresh')
                };
            }
            
            resetToDefaults() {
                if (confirm('Reset all settings to default values?')) {
                    localStorage.removeItem('ai-system-settings');
                    this.loadSettings();
                    this.showNotification('Success', 'Settings reset to defaults');
                }
            }
            
            resetAllSettings() {
                if (confirm('This will reset ALL settings and clear all data. Are you sure?')) {
                    localStorage.clear();
                    location.reload();
                }
            }
            
            clearAllData() {
                if (confirm('This will delete all user data and configurations. This cannot be undone. Continue?')) {
                    localStorage.clear();
                    sessionStorage.clear();
                    this.showNotification('Success', 'All data cleared');
                    setTimeout(() => location.reload(), 2000);
                }
            }
            
            // System actions
            restartSystem() {
                this.showNotification('Info', 'System restart initiated...');
                setTimeout(() => {
                    this.showNotification('Success', 'System restarted successfully');
                }, 3000);
            }
            
            updateSystem() {
                this.showNotification('Info', 'Checking for system updates...');
                setTimeout(() => {
                    this.showNotification('Success', 'System is up to date');
                }, 2000);
            }
            
            runDiagnostics() {
                this.showNotification('Info', 'Running system diagnostics...');
                setTimeout(() => {
                    this.showNotification('Success', 'System diagnostics completed - No issues found');
                }, 3000);
            }
            
            executeCommand(command) {
                this.showNotification('Info', `Executing: ${command}`);
                setTimeout(() => {
                    this.showNotification('Success', `Command completed: ${command}`);
                }, 1500);
            }
            
            // Network settings methods
            scanWiFi() {
                this.showNotification('Network', 'Scanning for WiFi networks...');
                setTimeout(() => {
                    this.showNotification('Network', 'Found 8 available networks');
                }, 2000);
            }
            
            // Security settings methods
            updateLockTimeout(timeout) {
                this.settings.set('lockTimeout', timeout);
                this.markDirty();
            }
            
            // Storage settings methods
            defragmentDisk() {
                this.showNotification('Storage', 'Starting disk defragmentation...');
                setTimeout(() => {
                    this.showNotification('Storage', 'Defragmentation completed successfully');
                }, 3000);
            }
            
            // Display settings methods
            updateDisplayResolution(resolution) {
                this.settings.set('displayResolution', resolution);
                this.markDirty();
                this.showNotification('Display', `Resolution changed to ${resolution}`);
            }
            
            updateBrightness(brightness) {
                this.settings.set('brightness', brightness);
                this.markDirty();
            }
            
            updateColorTemp(temp) {
                this.settings.set('colorTemperature', temp);
                this.markDirty();
            }
            
            // Audio settings methods
            updateMasterVolume(volume) {
                this.settings.set('masterVolume', volume);
                this.markDirty();
            }
            
            updateInputVolume(volume) {
                this.settings.set('inputVolume', volume);
                this.markDirty();
            }
            
            // Power settings methods
            updatePerformanceMode(mode) {
                this.settings.set('performanceMode', mode);
                this.markDirty();
                this.showNotification('Power', `Performance mode: ${mode}`);
            }
            
            showNotification(title, message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <button class="notification-close-btn" onclick="this.closest('.notification').remove()" aria-label="Zatvori≈• notifik√°ciu">
                        <svg viewBox="0 0 24 24">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                    <div style="font-weight: 600; color: #00d4ff; margin-bottom: 5px;">${title}</div>
                    <div>${message}</div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.transform = 'translateX(100%)';
                        notification.style.opacity = '0';
                        setTimeout(() => {
                            if (notification.parentElement) {
                                notification.parentElement.removeChild(notification);
                            }
                        }, 300);
                    }
                }, 3000);
            }
        }
        
        // Global functions
        function showSection(sectionName) {
            window.systemSettings.showSection(sectionName);
        }
        
        let settingsSidebarVisible = true;
        
        function toggleSettingsSidebar() {
            const sidebar = document.querySelector('.settings-sidebar');
            const content = document.querySelector('.settings-content');
            const toggleBtn = document.querySelector('.settings-toggle-sidebar');
            const toggleIcon = document.querySelector('.settings-toggle-icon');
            
            settingsSidebarVisible = !settingsSidebarVisible;
            
            if (settingsSidebarVisible) {
                sidebar.classList.remove('hidden');
                content.classList.remove('expanded');
                toggleBtn.classList.remove('hidden');
            } else {
                sidebar.classList.add('hidden');
                content.classList.add('expanded');
                toggleBtn.classList.add('hidden');
            }
        }
        
        function toggleSetting(element, settingKey) {
            window.systemSettings.toggleSetting(element, settingKey);
        }
        
        function markDirty() {
            window.systemSettings.markDirty();
        }
        
        function saveSettings() {
            window.systemSettings.saveSettings();
        }
        
        function resetToDefaults() {
            window.systemSettings.resetToDefaults();
        }
        
        function restartSystem() {
            window.systemSettings.restartSystem();
        }
        
        function updateSystem() {
            window.systemSettings.updateSystem();
        }
        
        function runDiagnostics() {
            window.systemSettings.runDiagnostics();
        }
        
        function executeCommand(command) {
            window.systemSettings.executeCommand(command);
        }
        
        function resetAllSettings() {
            window.systemSettings.resetAllSettings();
        }
        
        function clearAllData() {
            window.systemSettings.clearAllData();
        }
        
        // GUI Customization Functions
        function selectTheme(theme) {
            window.systemSettings.selectTheme(theme);
        }
        
        function updateColor(colorType, value) {
            window.systemSettings.updateColor(colorType, value);
        }
        
        function updateFontFamily(fontFamily) {
            window.systemSettings.updateFontFamily(fontFamily);
        }
        
        function updateFontSize(size) {
            window.systemSettings.updateFontSize(size);
        }
        
        function updateLineHeight(height) {
            window.systemSettings.updateLineHeight(height);
        }
        
        function selectLayout(layout) {
            window.systemSettings.selectLayout(layout);
        }
        
        function updateBorderRadius(radius) {
            window.systemSettings.updateBorderRadius(radius);
        }
        
        function updateAnimationSpeed(speed) {
            window.systemSettings.updateAnimationSpeed(speed);
        }
        
        function updateCustomCSS(css) {
            window.systemSettings.updateCustomCSS(css);
        }
        
        function updateScreenResolution(resolution) {
            window.systemSettings.updateScreenResolution(resolution);
        }
        
        function updateScaleFactor(factor) {
            window.systemSettings.updateScaleFactor(factor);
        }
        
        // Network functions
        function scanWiFi() {
            window.systemSettings.scanWiFi();
        }
        
        // Security functions
        function updateLockTimeout(value) {
            document.getElementById('lockTimeoutValue').textContent = value + ' min';
            window.systemSettings.updateLockTimeout(value);
        }
        
        // Storage functions
        function defragmentDisk() {
            window.systemSettings.defragmentDisk();
        }
        
        // Display functions
        function updateDisplayResolution(resolution) {
            window.systemSettings.updateDisplayResolution(resolution);
        }
        
        function updateBrightness(value) {
            document.getElementById('brightnessValue').textContent = value + '%';
            window.systemSettings.updateBrightness(value);
        }
        
        function updateColorTemp(value) {
            document.getElementById('colorTempValue').textContent = value + 'K';
            window.systemSettings.updateColorTemp(value);
        }
        
        // Audio functions
        function updateMasterVolume(value) {
            document.getElementById('masterVolumeValue').textContent = value + '%';
            window.systemSettings.updateMasterVolume(value);
        }
        
        function updateInputVolume(value) {
            document.getElementById('inputVolumeValue').textContent = value + '%';
            window.systemSettings.updateInputVolume(value);
        }
        
        // Power functions
        function updatePerformanceMode(mode) {
            window.systemSettings.updatePerformanceMode(mode);
        }
        
        function goBack() {
            if (window.systemSettings.dirty && !confirm('You have unsaved changes. Are you sure you want to leave?')) {
                return;
            }
            window.history.back();
        }
        
        // AI-OS Core Integration
        let aiOSIntegration = null;
        
        function handleAIOSCommand(command) {
            if (window.systemSettings) {
                switch (command.action) {
                    case 'applyTheme':
                        window.systemSettings.selectTheme(command.theme);
                        break;
                    case 'saveSettings':
                        window.systemSettings.saveSettings();
                        break;
                    case 'resetSettings':
                        window.systemSettings.resetToDefaults();
                        break;
                    case 'restartSystem':
                        window.systemSettings.restartSystem();
                        break;
                    default:
                        console.log('Unknown AI-OS command:', command);
                }
            }
        }
        
        function updateSystemStatus(systemState) {
            // Update system settings with current system information
            if (window.systemSettings && systemState) {
                // Update system metrics if available
                if (systemState.cpu !== undefined) {
                    const cpuValue = document.getElementById('cpuValue');
                    const cpuProgress = document.getElementById('cpuProgress');
                    if (cpuValue && cpuProgress) {
                        cpuValue.textContent = `${systemState.cpu}%`;
                        cpuProgress.style.width = `${systemState.cpu}%`;
                    }
                }
                
                if (systemState.memory !== undefined) {
                    const memoryValue = document.getElementById('memoryValue');
                    const memoryProgress = document.getElementById('memoryProgress');
                    if (memoryValue && memoryProgress) {
                        memoryValue.textContent = `${systemState.memory}%`;
                        memoryProgress.style.width = `${systemState.memory}%`;
                    }
                }
                
                if (systemState.storage !== undefined) {
                    const storageValue = document.getElementById('storageValue');
                    const storageProgress = document.getElementById('storageProgress');
                    if (storageValue && storageProgress) {
                        storageValue.textContent = `${systemState.storage}%`;
                        storageProgress.style.width = `${systemState.storage}%`;
                    }
                }
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('‚öôÔ∏è Initializing AI System Settings...');
            
            // Wait for AI-OS Core to be available
            const initSettings = () => {
                window.systemSettings = new SystemSettings();
                
                // Setup AI-OS Core integration
                if (window.aiOSCore && window.AIOSAppIntegration) {
                    aiOSIntegration = new AIOSAppIntegration('system-settings', 'AI System Settings', [
                        'system_configuration', 'theme_management', 'security_settings', 'performance_monitoring'
                    ]);
                    
                    // Listen for AI-OS events
                    aiOSIntegration.on('appMessage', (data) => {
                        if (data.from === 'aiOS-core') {
                            handleAIOSCommand(data.data);
                        }
                    });
                    
                    aiOSIntegration.on('systemStateUpdate', (data) => {
                        updateSystemStatus(data);
                    });
                    
                    console.log('‚úÖ System Settings integrated with AI-OS Core');
                }
            };
            
            if (window.aiOSCore) {
                initSettings();
            } else {
                setTimeout(initSettings, 1000);
            }
        });
    
        function goHome() {
            // Create smooth transition effect
            const container = document.querySelector('.app-container, .main-container, body > div, body');
            if (container) {
                container.style.opacity = '0';
                container.style.transform = 'scale(0.9)';
            }
            
            setTimeout(() => {
                // Navigate back to main AI-OS
                if (window.opener) {
                    window.close();
                } else {
                    const basePath = window.location.pathname.includes('/Apps/') ? '../' : '../../';
                    window.location.href = basePath + 'ADVANCED-AI-OS.html';
                }
            }, 300);
        }
    </script>
</body>
</html>