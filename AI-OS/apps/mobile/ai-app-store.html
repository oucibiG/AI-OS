<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè™ AI App Store - Linux & iOS</title>
    
    <!-- AI-OS Core Integration -->
    <script src="../js/ai-os-core.js"></script>
    <script src="../js/ai-os-app-integration.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
            background: #000;
            color: #00ff00;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-image: 
                linear-gradient(90deg, rgba(0, 255, 0, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(0, 255, 0, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .app-store-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Header */
        .store-header {
            height: 70px;
            background: #000;
            border-bottom: 2px solid #00ff00;
            border-top: 1px solid #00ff00;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: relative;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }
        
        .store-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .store-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .store-title {
            font-size: 20px;
            font-weight: 700;
            color: #00d4ff;
        }
        
        .store-search {
            flex: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 25px;
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }
        
        .search-input::placeholder {
            color: #888;
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
            font-size: 18px;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .header-btn {
            width: 40px;
            height: 40px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .header-btn.ai-btn {
            background: rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
            animation: aiPulse 3s infinite;
        }

        .header-btn.ai-btn:hover {
            background: rgba(0, 255, 136, 0.2);
            border-color: rgba(0, 255, 136, 0.5);
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
            animation: none;
        }

        @keyframes aiPulse {
            0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
        }
            transition: all 0.3s ease;
            font-size: 18px;
        }
        
        .header-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.6);
        }
        
        /* Main Content */
        .store-main {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* Sidebar */
        .store-sidebar {
            width: 280px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(0, 212, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .sidebar-nav {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 8px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 15px;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
        }
        
        .nav-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }
        
        .nav-badge {
            background: #e74c3c;
            color: white;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 10px;
            font-weight: 600;
            margin-left: auto;
        }
        
        /* Content Area */
        .store-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            position: relative;
            transition: all 0.3s ease;
        }
        
        /* Sidebar toggle functionality */
        .store-sidebar.hidden {
            transform: translateX(-100%);
            width: 0;
            padding: 0;
            overflow: hidden;
        }
        
        .store-content.expanded {
            margin-left: 0;
            width: 100%;
        }
        
        .content-header {
            margin-bottom: 30px;
        }
        
        .content-title {
            font-size: 32px;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .content-subtitle {
            font-size: 16px;
            color: #888;
        }
        
        /* Featured Section */
        .featured-section {
            margin-bottom: 40px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 20px;
        }
        
        .section-title-large {
            font-size: 24px;
            font-weight: 600;
            color: #00d4ff;
        }
        
        .section-action {
            color: #00d4ff;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s ease;
        }
        
        .section-action:hover {
            color: #0099cc;
        }
        
        .featured-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .app-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .app-card:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: rgba(0, 212, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }
        
        .app-card.installed {
            border-color: #2ecc71;
        }
        
        .app-card.running {
            border-color: #f39c12;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translateY(-2px); }
            50% { transform: translateY(-3px); }
        }
        
        .app-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin: 0 auto 15px;
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }
        
        .app-name {
            font-size: 16px;
            font-weight: 600;
            color: white;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .app-category {
            font-size: 12px;
            color: #888;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .app-rating {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .rating-stars {
            color: #f39c12;
            font-size: 14px;
        }
        
        .rating-value {
            font-size: 12px;
            color: #888;
        }
        
        .app-price {
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            color: #2ecc71;
        }
        
        .app-price.paid {
            color: #e74c3c;
        }
        
        .app-status {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .app-status.installed {
            background: #2ecc71;
            color: white;
        }
        
        .app-status.running {
            background: #f39c12;
            color: white;
        }
        
        .app-status.update {
            background: #e74c3c;
            color: white;
        }
        
        /* Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .category-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .category-card:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: rgba(0, 212, 255, 0.4);
            transform: translateY(-2px);
        }
        
        .category-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .category-name {
            font-size: 18px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 8px;
        }
        
        .category-description {
            font-size: 14px;
            color: #888;
            line-height: 1.4;
        }
        
        .category-count {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }
        
        /* App Detail Modal */
        .app-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .app-detail-modal.active {
            display: flex;
            opacity: 1;
        }
        
        .app-detail-content {
            background: rgba(15, 15, 35, 0.95);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .detail-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 30px;
            height: 30px;
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #e74c3c;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .detail-close:hover {
            background: #e74c3c;
            color: white;
        }
        
        .detail-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .detail-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }
        
        .detail-info {
            flex: 1;
        }
        
        .detail-name {
            font-size: 24px;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 8px;
        }
        
        .detail-developer {
            font-size: 16px;
            color: #888;
            margin-bottom: 10px;
        }
        
        .detail-rating {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: 600;
            color: #00d4ff;
        }
        
        .stat-label {
            font-size: 12px;
            color: #888;
        }
        
        .detail-description {
            font-size: 14px;
            line-height: 1.6;
            color: #ccc;
            margin-bottom: 20px;
        }
        
        .detail-features {
            margin-bottom: 20px;
        }
        
        .features-title {
            font-size: 16px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .features-list {
            list-style: none;
        }
        
        .features-list li {
            font-size: 14px;
            color: #ccc;
            margin-bottom: 5px;
            padding-left: 20px;
            position: relative;
        }
        
        .features-list li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: 600;
        }
        
        .detail-actions {
            display: flex;
            gap: 15px;
        }
        
        .detail-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .detail-btn.primary {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
        }
        
        .detail-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }
        
        .detail-btn.secondary {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            color: #00d4ff;
        }
        
        .detail-btn.secondary:hover {
            background: rgba(0, 212, 255, 0.2);
        }
        
        .detail-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* System Settings Modal */
        .settings-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .settings-modal.active {
            display: flex;
            opacity: 1;
        }
        
        .settings-content {
            background: rgba(15, 15, 35, 0.95);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .settings-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        
        .settings-title {
            font-size: 24px;
            font-weight: 700;
            color: #00d4ff;
        }
        
        .settings-close {
            width: 30px;
            height: 30px;
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #e74c3c;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .settings-close:hover {
            background: #e74c3c;
            color: white;
        }
        
        .settings-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }
        
        .settings-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            color: #888;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        
        .settings-tab.active {
            color: #00d4ff;
            border-bottom-color: #00d4ff;
        }
        
        .settings-tab:hover {
            color: #00d4ff;
        }
        
        .settings-section {
            margin-bottom: 30px;
        }
        
        .section-subtitle {
            font-size: 18px;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 15px;
        }
        
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
        }
        
        .setting-info {
            flex: 1;
        }
        
        .setting-name {
            font-size: 16px;
            font-weight: 600;
            color: white;
            margin-bottom: 5px;
        }
        
        .setting-description {
            font-size: 14px;
            color: #888;
        }
        
        .setting-control {
            margin-left: 20px;
        }
        
        .toggle-switch {
            width: 50px;
            height: 28px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active {
            background: #00d4ff;
        }
        
        .toggle-slider {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(22px);
        }
        
        .select-input {
            padding: 8px 12px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: white;
            font-size: 14px;
            outline: none;
            min-width: 150px;
        }
        
        .select-input option {
            background: #1a1a2e;
            color: white;
        }
        
        /* Platform Selector */
        .platform-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .store-toggle-sidebar {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }
        
        .store-toggle-sidebar:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .store-toggle-sidebar.hidden .store-toggle-icon {
            transform: rotate(180deg);
        }
        
        .store-toggle-sidebar.hidden .store-toggle-icon::before {
            content: '¬ª';
        }
        
        .store-toggle-sidebar.hidden .store-toggle-icon::after {
            content: '';
        }
        
        .store-toggle-sidebar .store-toggle-icon::before {
            content: '¬´';
        }
        
        .platform-btn {
            padding: 8px 16px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: #00d4ff;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .platform-btn.active {
            background: #00d4ff;
            color: white;
        }
        
        .platform-btn:hover {
            background: rgba(0, 212, 255, 0.2);
        }
        
        .platform-btn.active:hover {
            background: #0099cc;
        }
        
        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: #888;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(0, 212, 255, 0.2);
            border-top: 3px solid #00d4ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .store-sidebar {
                width: 250px;
            }
            
            .store-content {
                padding: 20px;
            }
            
            .featured-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .app-detail-content,
            .settings-content {
                padding: 20px;
                width: 95%;
            }
            
            .detail-header {
                flex-direction: column;
                text-align: center;
            }
            
            .detail-actions {
                flex-direction: column;
            }
        }
    
        /* Floating Home Button */
        .floating-home-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 0, 0.3);
            border: 2px solid #00ff88;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            animation: homePulse 2s infinite;
        }

        .floating-home-btn:hover {
            background: rgba(0, 255, 0, 0.5);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.7);
            animation: none;
        }

        @keyframes homePulse {
            0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 0, 0.3); }
            50% { box-shadow: 0 0 15px rgba(0, 255, 0, 0.6); }
        }
    </style>
</head>
<body>
    <!-- Floating Home Button -->
    <div class="floating-home-btn" onclick="goHome()" title="Domov">üè†</div>
    <div class="app-store-container">
        <!-- Header -->
        <div class="store-header">
            <div class="store-logo">
                <div class="store-icon">üè™</div>
                <div class="store-title">AI App Store</div>
            </div>
            
            <div class="store-search">
                <input type="text" class="search-input" id="searchInput" placeholder="Search applications...">
                <div class="search-icon">üîç</div>
            </div>
            
            <div class="header-actions">
                <div class="store-toggle-sidebar" onclick="toggleStoreSidebar()" title="Toggle Sidebar">
                    <span class="store-toggle-icon">¬´</span>
                </div>
                <div class="platform-selector">
                    <button class="platform-btn active" onclick="setPlatform('auto')" data-platform="auto">Auto</button>
                    <button class="platform-btn" onclick="setPlatform('linux')" data-platform="linux">Linux üêß</button>
                    <button class="platform-btn" onclick="setPlatform('ios')" data-platform="ios">iOS üì±</button>
                </div>
                <div class="header-btn ai-btn" onclick="aiRecommendApps()" title="AI Odpor√∫ƒçania">üß†</div>
                <div class="header-btn ai-btn" onclick="aiSmartSearch()" title="AI Smart Search">üîç</div>
                <div class="header-btn ai-btn" onclick="aiAutoInstall()" title="AI Auto Install">ü§ñ</div>
                <div class="header-btn ai-btn" onclick="aiOptimizeApps()" title="AI Optimaliz√°cia">‚ö°</div>
                <div class="header-btn" onclick="showSettings()" title="Settings">‚öôÔ∏è</div>
                <div class="header-btn" onclick="showInstalledApps()" title="Installed Apps">üì±</div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="store-main">
            <!-- Sidebar -->
            <div class="store-sidebar">
                <div class="sidebar-section">
                    <div class="section-title">Navigation</div>
                    <ul class="sidebar-nav">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" onclick="showSection('featured')">
                                <span class="nav-icon">‚≠ê</span>
                                <span>Featured</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('categories')">
                                <span class="nav-icon">üìÇ</span>
                                <span>Categories</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('top-charts')">
                                <span class="nav-icon">üìà</span>
                                <span>Top Charts</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('new-releases')">
                                <span class="nav-icon">üÜï</span>
                                <span>New Releases</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('recommendations')">
                                <span class="nav-icon">üí°</span>
                                <span>Recommended</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="section-title">My Apps</div>
                    <ul class="sidebar-nav">
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('installed')">
                                <span class="nav-icon">üì•</span>
                                <span>Installed</span>
                                <span class="nav-badge" id="installedCount">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('running')">
                                <span class="nav-icon">‚ñ∂Ô∏è</span>
                                <span>Running</span>
                                <span class="nav-badge" id="runningCount">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('updates')">
                                <span class="nav-icon">üîÑ</span>
                                <span>Updates</span>
                                <span class="nav-badge" id="updateCount">0</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="section-title">System</div>
                    <ul class="sidebar-nav">
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSettings()">
                                <span class="nav-icon">‚öôÔ∏è</span>
                                <span>Settings</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSystemInfo()">
                                <span class="nav-icon">‚ÑπÔ∏è</span>
                                <span>System Info</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showAbout()">
                                <span class="nav-icon">üí¨</span>
                                <span>About</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="store-content">
                <!-- Featured Section -->
                <div class="content-section" id="featuredSection">
                    <div class="content-header">
                        <div class="content-title">Featured Applications</div>
                        <div class="content-subtitle">Discover the best applications for your AI-powered system</div>
                    </div>
                    
                    <div class="featured-section">
                        <div class="section-header">
                            <div class="section-title-large">Editor's Choice</div>
                            <a href="#" class="section-action">View All ‚Üí</a>
                        </div>
                        <div class="featured-grid" id="featuredGrid">
                            <div class="loading">
                                <div class="spinner"></div>
                                <span>Loading featured apps...</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Categories Section -->
                <div class="content-section" id="categoriesSection" style="display: none;">
                    <div class="content-header">
                        <div class="content-title">Categories</div>
                        <div class="content-subtitle">Browse applications by category</div>
                    </div>
                    
                    <div class="categories-grid" id="categoriesGrid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <span>Loading categories...</span>
                        </div>
                    </div>
                </div>
                
                <!-- Apps Grid Section -->
                <div class="content-section" id="appsGridSection" style="display: none;">
                    <div class="content-header">
                        <div class="content-title" id="appsGridTitle">Applications</div>
                        <div class="content-subtitle" id="appsGridSubtitle">Browse available applications</div>
                    </div>
                    
                    <div class="featured-grid" id="appsGrid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <span>Loading applications...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- App Detail Modal -->
    <div class="app-detail-modal" id="appDetailModal">
        <div class="app-detail-content">
            <div class="detail-close" onclick="closeAppDetail()">‚úï</div>
            
            <div class="detail-header">
                <div class="detail-icon" id="detailIcon">üì±</div>
                <div class="detail-info">
                    <div class="detail-name" id="detailName">App Name</div>
                    <div class="detail-developer" id="detailDeveloper">Developer</div>
                    <div class="detail-rating">
                        <div class="rating-stars" id="detailStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        <div class="rating-value" id="detailRating">4.8</div>
                    </div>
                </div>
            </div>
            
            <div class="detail-stats">
                <div class="stat-item">
                    <div class="stat-value" id="detailDownloads">125K</div>
                    <div class="stat-label">Downloads</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="detailSize">15.2 MB</div>
                    <div class="stat-label">Size</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="detailVersion">2.1.0</div>
                    <div class="stat-label">Version</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="detailPrice">Free</div>
                    <div class="stat-label">Price</div>
                </div>
            </div>
            
            <div class="detail-description" id="detailDescription">
                App description will appear here...
            </div>
            
            <div class="detail-features">
                <div class="features-title">Key Features</div>
                <ul class="features-list" id="detailFeatures">
                    <li>Feature 1</li>
                    <li>Feature 2</li>
                    <li>Feature 3</li>
                </ul>
            </div>
            
            <div class="detail-actions">
                <button class="detail-btn primary" id="primaryActionBtn" onclick="handlePrimaryAction()">Install</button>
                <button class="detail-btn secondary" onclick="closeAppDetail()">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <div class="settings-title">Settings</div>
                <div class="settings-close" onclick="closeSettings()">‚úï</div>
            </div>
            
            <div class="settings-tabs">
                <button class="settings-tab active" onclick="switchSettingsTab('general')">General</button>
                <button class="settings-tab" onclick="switchSettingsTab('updates')">Updates</button>
                <button class="settings-tab" onclick="switchSettingsTab('privacy')">Privacy</button>
                <button class="settings-tab" onclick="switchSettingsTab('advanced')">Advanced</button>
            </div>
            
            <div class="settings-section" id="generalSettings">
                <div class="section-subtitle">General Preferences</div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Auto-Update Applications</div>
                        <div class="setting-description">Automatically update installed applications</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch active" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Show Notifications</div>
                        <div class="setting-description">Display notifications for app updates and events</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch active" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Default Platform</div>
                        <div class="setting-description">Preferred platform for app installation</div>
                    </div>
                    <div class="setting-control">
                        <select class="select-input" id="defaultPlatform">
                            <option value="auto">Auto Detect</option>
                            <option value="linux">Linux</option>
                            <option value="ios">iOS</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Download Location</div>
                        <div class="setting-description">Default directory for downloaded applications</div>
                    </div>
                    <div class="setting-control">
                        <input type="text" class="select-input" value="/home/user/Applications" id="downloadLocation">
                    </div>
                </div>
            </div>
            
            <div class="settings-section" id="updatesSettings" style="display: none;">
                <div class="section-subtitle">Update Settings</div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Check for Updates</div>
                        <div class="setting-description">Automatically check for application updates</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch active" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Update Frequency</div>
                        <div class="setting-description">How often to check for updates</div>
                    </div>
                    <div class="setting-control">
                        <select class="select-input" id="updateFrequency">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Beta Updates</div>
                        <div class="setting-description">Include beta versions in updates</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="settings-section" id="privacySettings" style="display: none;">
                <div class="section-subtitle">Privacy & Security</div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Share Usage Statistics</div>
                        <div class="setting-description">Help improve the app store by sharing anonymous usage data</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Allow Third-Party Apps</div>
                        <div class="setting-description">Install applications from third-party sources</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch active" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="settings-section" id="advancedSettings" style="display: none;">
                <div class="section-subtitle">Advanced Options</div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Debug Mode</div>
                        <div class="setting-description">Enable debug logging and verbose output</div>
                    </div>
                    <div class="setting-control">
                        <div class="toggle-switch" onclick="toggleSetting(this)">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Cache Management</div>
                        <div class="setting-description">Manage application cache and temporary files</div>
                    </div>
                    <div class="setting-control">
                        <button class="detail-btn secondary" onclick="clearCache()">Clear Cache</button>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-name">Reset Store</div>
                        <div class="setting-description">Reset all store settings to default values</div>
                    </div>
                    <div class="setting-control">
                        <button class="detail-btn secondary" onclick="resetStore()">Reset</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="ai-app-store-core.js">
        function goHome() {
            // Create smooth transition effect
            const container = document.querySelector('.app-container, .main-container, body > div, body');
            if (container) {
                container.style.opacity = '0';
                container.style.transform = 'scale(0.9)';
            }
            
            setTimeout(() => {
                // Navigate back to main AI-OS
                if (window.opener) {
                    window.close();
                } else {
                    const basePath = window.location.pathname.includes('/Apps/') ? '../' : '../../';
                    window.location.href = basePath + 'ADVANCED-AI-OS.html';
                }
            }, 300);
        }
    </script>
    <script>
        /**
         * AI App Store Interface
         * Complete application store interface with Linux and iOS integration
         */
        class AppStoreInterface {
            constructor() {
                this.appStore = null;
                this.currentSection = 'featured';
                this.currentCategory = null;
                this.currentPlatform = 'auto';
                this.selectedApp = null;
                this.searchResults = [];
                
                this.init();
            }
            
            async init() {
                console.log("üè™ Initializing App Store Interface...");
                
                try {
                    // Wait for app store core
                    await this.waitForAppStore();
                    
                    // Setup event listeners
                    this.setupEventListeners();
                    
                    // Load initial data
                    this.loadFeaturedApps();
                    this.loadCategories();
                    this.updateStats();
                    
                    console.log("‚úÖ App Store Interface ready");
                    
                } catch (error) {
                    console.error("‚ùå Failed to initialize App Store Interface:", error);
                }
            }
            
            async waitForAppStore() {
                return new Promise((resolve) => {
                    const checkStore = () => {
                        if (window.appStore) {
                            this.appStore = window.appStore;
                            resolve();
                        } else {
                            setTimeout(checkStore, 100);
                        }
                    };
                    checkStore();
                });
            }
            
            setupEventListeners() {
                // Search functionality
                const searchInput = document.getElementById('searchInput');
                searchInput.addEventListener('input', (e) => {
                    this.handleSearch(e.target.value);
                });
                
                searchInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        this.performSearch(e.target.value);
                    }
                });
                
                // Modal close on backdrop click
                document.getElementById('appDetailModal').addEventListener('click', (e) => {
                    if (e.target.id === 'appDetailModal') {
                        this.closeAppDetail();
                    }
                });
                
                document.getElementById('settingsModal').addEventListener('click', (e) => {
                    if (e.target.id === 'settingsModal') {
                        this.closeSettings();
                    }
                });
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeAllModals();
                    } else if (e.key === '/' && e.ctrlKey) {
                        e.preventDefault();
                        document.getElementById('searchInput').focus();
                    }
                });
            }
            
            loadFeaturedApps() {
                const featuredGrid = document.getElementById('featuredGrid');
                
                try {
                    const featuredApps = this.appStore.getFeaturedApps();
                    
                    if (featuredApps.length === 0) {
                        featuredGrid.innerHTML = '<div class="loading">No featured apps available</div>';
                        return;
                    }
                    
                    featuredGrid.innerHTML = featuredApps.map(app => this.renderAppCard(app)).join('');
                    
                } catch (error) {
                    console.error("Failed to load featured apps:", error);
                    featuredGrid.innerHTML = '<div class="loading">Error loading featured apps</div>';
                }
            }
            
            loadCategories() {
                const categoriesGrid = document.getElementById('categoriesGrid');
                
                try {
                    const categories = Array.from(this.appStore.categories.values());
                    
                    categoriesGrid.innerHTML = categories.map(category => this.renderCategoryCard(category)).join('');
                    
                } catch (error) {
                    console.error("Failed to load categories:", error);
                    categoriesGrid.innerHTML = '<div class="loading">Error loading categories</div>';
                }
            }
            
            loadAppsByCategory(categoryId) {
                const appsGrid = document.getElementById('appsGrid');
                const title = document.getElementById('appsGridTitle');
                const subtitle = document.getElementById('appsGridSubtitle');
                
                try {
                    const category = this.appStore.categories.get(categoryId);
                    const apps = this.appStore.getAppsByCategory(categoryId);
                    
                    title.textContent = category.name;
                    subtitle.textContent = category.description;
                    
                    if (apps.length === 0) {
                        appsGrid.innerHTML = '<div class="loading">No apps in this category</div>';
                        return;
                    }
                    
                    appsGrid.innerHTML = apps.map(app => this.renderAppCard(app)).join('');
                    
                } catch (error) {
                    console.error("Failed to load category apps:", error);
                    appsGrid.innerHTML = '<div class="loading">Error loading apps</div>';
                }
            }
            
            renderAppCard(app) {
                const isInstalled = this.appStore.installedApps.has(app.id);
                const isRunning = this.appStore.runningApps.has(app.id);
                const statusClass = isRunning ? 'running' : (isInstalled ? 'installed' : '');
                const statusIcon = isRunning ? '‚ñ∂Ô∏è' : (isInstalled ? '‚úì' : '');
                
                return `
                    <div class="app-card ${statusClass}" onclick="openAppDetail('${app.id}')" data-app-id="${app.id}">
                        <div class="app-status ${isRunning ? 'running' : (isInstalled ? 'installed' : '')}">${statusIcon}</div>
                        <div class="app-icon">${app.icon}</div>
                        <div class="app-name">${app.name}</div>
                        <div class="app-category">${this.getCategoryName(app.category)}</div>
                        <div class="app-rating">
                            <div class="rating-stars">${this.renderStars(app.rating)}</div>
                            <div class="rating-value">${app.rating}</div>
                        </div>
                        <div class="app-price ${app.price !== 'Free' ? 'paid' : ''}">${app.price}</div>
                    </div>
                `;
            }
            
            renderCategoryCard(category) {
                return `
                    <div class="category-card" onclick="showCategory('${category.id}')">
                        <div class="category-icon">${category.icon}</div>
                        <div class="category-name">${category.name}</div>
                        <div class="category-description">${category.description}</div>
                        <div class="category-count">${category.apps.length} apps</div>
                    </div>
                `;
            }
            
            renderStars(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 >= 0.5;
                const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
                
                return '‚òÖ'.repeat(fullStars) + 
                       (hasHalfStar ? '‚òÜ' : '') + 
                       '‚òÜ'.repeat(emptyStars);
            }
            
            getCategoryName(categoryId) {
                const category = this.appStore.categories.get(categoryId);
                return category ? category.name : 'Unknown';
            }
            
            async openAppDetail(appId) {
                const app = this.appStore.apps.get(appId);
                if (!app) return;
                
                this.selectedApp = app;
                
                // Populate detail modal
                document.getElementById('detailIcon').textContent = app.icon;
                document.getElementById('detailName').textContent = app.name;
                document.getElementById('detailDeveloper').textContent = app.developer;
                document.getElementById('detailStars').textContent = this.renderStars(app.rating);
                document.getElementById('detailRating').textContent = app.rating;
                document.getElementById('detailDownloads').textContent = this.formatNumber(app.downloads);
                document.getElementById('detailSize').textContent = app.size;
                document.getElementById('detailVersion').textContent = app.version;
                document.getElementById('detailPrice').textContent = app.price;
                document.getElementById('detailDescription').textContent = app.description;
                
                // Features list
                const featuresList = document.getElementById('detailFeatures');
                featuresList.innerHTML = app.features.map(feature => `<li>${feature}</li>`).join('');
                
                // Set primary action
                const primaryBtn = document.getElementById('primaryActionBtn');
                const isInstalled = this.appStore.installedApps.has(appId);
                const isRunning = this.appStore.runningApps.has(appId);
                
                if (isRunning) {
                    primaryBtn.textContent = 'Stop App';
                    primaryBtn.onclick = () => this.stopApp(appId);
                } else if (isInstalled) {
                    primaryBtn.textContent = 'Launch App';
                    primaryBtn.onclick = () => this.launchApp(appId);
                } else {
                    primaryBtn.textContent = 'Install';
                    primaryBtn.onclick = () => this.installApp(appId);
                }
                
                // Show modal
                document.getElementById('appDetailModal').classList.add('active');
            }
            
            closeAppDetail() {
                document.getElementById('appDetailModal').classList.remove('active');
                this.selectedApp = null;
            }
            
            async installApp(appId) {
                try {
                    const app = this.appStore.apps.get(appId);
                    
                    // Show installing state
                    const primaryBtn = document.getElementById('primaryActionBtn');
                    const originalText = primaryBtn.textContent;
                    primaryBtn.textContent = 'Installing...';
                    primaryBtn.disabled = true;
                    
                    await this.appStore.installApp(appId);
                    
                    // Update UI
                    this.updateAppCardStatus(appId, 'installed');
                    this.updateStats();
                    
                    // Update button
                    primaryBtn.textContent = 'Launch App';
                    primaryBtn.onclick = () => this.launchApp(appId);
                    primaryBtn.disabled = false;
                    
                    // Show success notification
                    this.showNotification('Success', `${app.name} installed successfully!`);
                    
                } catch (error) {
                    console.error("Failed to install app:", error);
                    
                    // Reset button
                    const primaryBtn = document.getElementById('primaryActionBtn');
                    primaryBtn.textContent = 'Install';
                    primaryBtn.disabled = false;
                    
                    this.showNotification('Error', `Failed to install ${app.name}: ${error.message}`);
                }
            }
            
            async launchApp(appId) {
                try {
                    const app = this.appStore.apps.get(appId);
                    
                    const primaryBtn = document.getElementById('primaryActionBtn');
                    primaryBtn.textContent = 'Launching...';
                    primaryBtn.disabled = true;
                    
                    await this.appStore.launchApp(appId, this.currentPlatform);
                    
                    // Update UI
                    this.updateAppCardStatus(appId, 'running');
                    this.updateStats();
                    
                    // Update button
                    primaryBtn.textContent = 'Stop App';
                    primaryBtn.onclick = () => this.stopApp(appId);
                    primaryBtn.disabled = false;
                    
                    this.showNotification('Success', `${app.name} launched successfully!`);
                    
                    // Close modal
                    setTimeout(() => this.closeAppDetail(), 1500);
                    
                } catch (error) {
                    console.error("Failed to launch app:", error);
                    
                    const primaryBtn = document.getElementById('primaryActionBtn');
                    primaryBtn.textContent = 'Launch App';
                    primaryBtn.disabled = false;
                    
                    this.showNotification('Error', `Failed to launch ${app.name}: ${error.message}`);
                }
            }
            
            async stopApp(appId) {
                try {
                    await this.appStore.stopApp(appId);
                    
                    this.updateAppCardStatus(appId, 'installed');
                    this.updateStats();
                    
                    // Update button
                    const primaryBtn = document.getElementById('primaryActionBtn');
                    primaryBtn.textContent = 'Launch App';
                    primaryBtn.onclick = () => this.launchApp(appId);
                    
                    const app = this.appStore.apps.get(appId);
                    this.showNotification('Success', `${app.name} stopped successfully!`);
                    
                } catch (error) {
                    console.error("Failed to stop app:", error);
                    this.showNotification('Error', `Failed to stop ${app.name}: ${error.message}`);
                }
            }
            
            updateAppCardStatus(appId, status) {
                const card = document.querySelector(`[data-app-id="${appId}"]`);
                if (!card) return;
                
                // Remove all status classes
                card.classList.remove('installed', 'running');
                
                if (status === 'installed' || status === 'running') {
                    card.classList.add(status);
                }
                
                // Update status icon
                const statusElement = card.querySelector('.app-status');
                if (statusElement) {
                    if (status === 'running') {
                        statusElement.textContent = '‚ñ∂Ô∏è';
                        statusElement.className = 'app-status running';
                    } else if (status === 'installed') {
                        statusElement.textContent = '‚úì';
                        statusElement.className = 'app-status installed';
                    } else {
                        statusElement.textContent = '';
                        statusElement.className = 'app-status';
                    }
                }
            }
            
            handleSearch(query) {
                if (query.length < 2) {
                    this.showSection(this.currentSection);
                    return;
                }
                
                this.searchResults = this.appStore.searchApps(query);
                this.showSearchResults(query);
            }
            
            showSearchResults(query) {
                const appsGrid = document.getElementById('appsGrid');
                const title = document.getElementById('appsGridTitle');
                const subtitle = document.getElementById('appsGridSubtitle');
                
                title.textContent = `Search Results for "${query}"`;
                subtitle.textContent = `${this.searchResults.length} apps found`;
                
                if (this.searchResults.length === 0) {
                    appsGrid.innerHTML = '<div class="loading">No apps found</div>';
                    return;
                }
                
                appsGrid.innerHTML = this.searchResults.map(app => this.renderAppCard(app)).join('');
                this.showAppsGridSection();
            }
            
            showSection(sectionName) {
                this.currentSection = sectionName;
                
                // Update navigation
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
                if (activeLink) activeLink.classList.add('active');
                
                // Show section
                document.querySelectorAll('.content-section').forEach(section => {
                    section.style.display = 'none';
                });
                
                switch (sectionName) {
                    case 'featured':
                        document.getElementById('featuredSection').style.display = 'block';
                        break;
                    case 'categories':
                        document.getElementById('categoriesSection').style.display = 'block';
                        break;
                    default:
                        this.showAppsGridSection();
                        break;
                }
            }
            
            showAppsGridSection() {
                document.getElementById('featuredSection').style.display = 'none';
                document.getElementById('categoriesSection').style.display = 'none';
                document.getElementById('appsGridSection').style.display = 'block';
            }
            
            showCategory(categoryId) {
                this.currentCategory = categoryId;
                this.loadAppsByCategory(categoryId);
                this.showAppsGridSection();
            }
            
            setPlatform(platform) {
                this.currentPlatform = platform;
                
                // Update platform buttons
                document.querySelectorAll('.platform-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-platform="${platform}"]`).classList.add('active');
                
                this.showNotification('Info', `Platform set to ${platform.toUpperCase()}`);
            }
            
            updateStats() {
                const stats = this.appStore.getStoreStats();
                
                document.getElementById('installedCount').textContent = stats.installedApps;
                document.getElementById('runningCount').textContent = stats.runningApps;
                document.getElementById('updateCount').textContent = 0; // Placeholder
            }
            
            showSettings() {
                document.getElementById('settingsModal').classList.add('active');
            }
            
            closeSettings() {
                document.getElementById('settingsModal').classList.remove('active');
            }
            
            switchSettingsTab(tabName) {
                // Update tab buttons
                document.querySelectorAll('.settings-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                event.target.classList.add('active');
                
                // Show/hide sections
                document.querySelectorAll('[id$="Settings"]').forEach(section => {
                    section.style.display = 'none';
                });
                document.getElementById(`${tabName}Settings`).style.display = 'block';
            }
            
            closeAllModals() {
                this.closeAppDetail();
                this.closeSettings();
            }
            
            formatNumber(num) {
                if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                } else if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num.toString();
            }
            
            showNotification(title, message) {
                // Create notification element
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 90px;
                    right: 20px;
                    background: rgba(0, 0, 0, 0.9);
                    border: 1px solid rgba(0, 212, 255, 0.3);
                    border-radius: 8px;
                    padding: 15px 20px;
                    z-index: 3000;
                    max-width: 300px;
                    color: white;
                    font-size: 14px;
                    animation: slideIn 0.3s ease;
                `;
                
                notification.innerHTML = `
                    <div style="font-weight: 600; color: #00d4ff; margin-bottom: 5px;">${title}</div>
                    <div>${message}</div>
                `;
                
                document.body.appendChild(notification);
                
                // Auto remove after 3 seconds
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
        }
        
        // Global functions for onclick handlers
        function showSection(sectionName) {
            window.appStoreInterface.showSection(sectionName);
        }
        
        function showCategory(categoryId) {
            window.appStoreInterface.showCategory(categoryId);
        }
        
        function openAppDetail(appId) {
            window.appStoreInterface.openAppDetail(appId);
        }
        
        function closeAppDetail() {
            window.appStoreInterface.closeAppDetail();
        }
        
        function handlePrimaryAction() {
            // Action is set dynamically in openAppDetail
        }
        
        function showSettings() {
            window.appStoreInterface.showSettings();
        }
        
        function closeSettings() {
            window.appStoreInterface.closeSettings();
        }
        
        function switchSettingsTab(tabName) {
            window.appStoreInterface.switchSettingsTab(tabName);
        }
        
        function toggleSetting(element) {
            element.classList.toggle('active');
        }
        
        function setPlatform(platform) {
            window.appStoreInterface.setPlatform(platform);
        }
        
        function clearCache() {
            window.appStoreInterface.showNotification('Info', 'Cache cleared successfully');
        }
        
        function resetStore() {
            if (confirm('Are you sure you want to reset all store settings?')) {
                window.appStoreInterface.showNotification('Info', 'Store settings reset to defaults');
            }
        }
        
        function showInstalledApps() {
            window.appStoreInterface.showSection('installed');
        }
        
        function showSystemInfo() {
            const info = window.appStore.appStore.getStoreStats();
            window.appStoreInterface.showNotification('System Info', 
                `Apps: ${info.totalApps}, Installed: ${info.installedApps}, Running: ${info.runningApps}`);
        }
        
        function showAbout() {
            window.appStoreInterface.showNotification('About', 'AI App Store v1.0 - Linux & iOS Integration');
        }
        
        let storeSidebarVisible = true;
        
        function toggleStoreSidebar() {
            const sidebar = document.querySelector('.store-sidebar');
            const content = document.querySelector('.store-content');
            const toggleBtn = document.querySelector('.store-toggle-sidebar');
            const toggleIcon = document.querySelector('.store-toggle-icon');
            
            storeSidebarVisible = !storeSidebarVisible;
            
            if (storeSidebarVisible) {
                sidebar.classList.remove('hidden');
                content.classList.remove('expanded');
                toggleBtn.classList.remove('hidden');
            } else {
                sidebar.classList.add('hidden');
                content.classList.add('expanded');
                toggleBtn.classList.add('hidden');
            }
        }

        // AI Enhanced Functions
        function aiRecommendApps() {
            const appStore = window.appStoreInterface;
            if (appStore) {
                appStore.showNotification('üß† AI odpor√∫ƒça aplik√°cie na z√°klade va≈°ich preferenci√≠...', 'info');
                
                // Simulate AI recommendation
                setTimeout(() => {
                    const recommendations = [
                        'AI Code Editor Pro',
                        'Neural Network Monitor', 
                        'Smart File Organizer',
                        'Intelligent Backup System'
                    ];
                    
                    recommendations.forEach((app, index) => {
                        setTimeout(() => {
                            appStore.showNotification(`üì± AI Odpor√∫ƒçanie: ${app}`, 'success');
                        }, index * 500);
                    });
                }, 1500);
            }
        }

        function aiSmartSearch() {
            const appStore = window.appStoreInterface;
            if (appStore) {
                appStore.showNotification('üîç AI Smart Search aktivovan√Ω...', 'info');
                
                // Enhanced search with AI
                const searchInput = document.querySelector('input[type="text"]');
                if (searchInput) {
                    searchInput.placeholder = 'AI Smart Search - nap√≠≈°te ƒço potrebujete...';
                    searchInput.style.borderColor = '#00ff88';
                    searchInput.style.boxShadow = '0 0 10px rgba(0, 255, 136, 0.5)';
                }
            }
        }

        function aiAutoInstall() {
            const appStore = window.appStoreInterface;
            if (appStore) {
                appStore.showNotification('ü§ñ AI Auto-Install - automatick√° in≈°tal√°cia odpor√∫ƒçan√Ωch aplik√°ci√≠...', 'info');
                
                setTimeout(() => {
                    appStore.showNotification('‚úÖ AI √∫spe≈°ne nain≈°taloval 3 odpor√∫ƒçan√© aplik√°cie', 'success');
                }, 2000);
            }
        }

        function aiOptimizeApps() {
            const appStore = window.appStoreInterface;
            if (appStore) {
                appStore.showNotification('‚ö° AI optimalizuje v√Ωkon nain≈°talovan√Ωch aplik√°ci√≠...', 'info');
                
                setTimeout(() => {
                    appStore.showNotification('üéØ AI optimaliz√°cia dokonƒçen√° - v√Ωkon +25%', 'success');
                }, 3000);
            }
        }
        
        // Initialize when page loads
        // Initialize App Store with AI-OS Core integration
        let aiOSIntegration;
        
        document.addEventListener('DOMContentLoaded', () => {
            // Wait for AI-OS Core to be available
            const initAppStore = () => {
                window.appStoreInterface = new AppStoreInterface();
                
                // Setup AI-OS Core integration
                if (window.aiOSCore && window.AIOSAppIntegration) {
                    aiOSIntegration = new AIOSAppIntegration('app-store', 'AI App Store', [
                        'app_discovery', 'installation', 'category_management', 'search'
                    ]);
                    
                    // Listen for AI-OS events
                    aiOSIntegration.on('appMessage', (data) => {
                        if (data.from === 'aiOS-core') {
                            handleAIOSCommand(data.data);
                        }
                    });
                    
                    aiOSIntegration.on('systemStateUpdate', (data) => {
                        updateStoreStatus(data);
                    });
                    
                    console.log('‚úÖ App Store integrated with AI-OS Core');
                }
            };
            
            if (window.aiOSCore) {
                setTimeout(initAppStore, 500);
            } else {
                setTimeout(initAppStore, 1000);
            }
        });
        
        function handleAIOSCommand(command) {
            if (window.appStoreInterface) {
                switch (command.action) {
                    case 'search_apps':
                        window.appStoreInterface.searchApps(command.query);
                        break;
                    case 'install_app':
                        window.appStoreInterface.installApp(command.appId);
                        break;
                    case 'open_app':
                        window.appStoreInterface.openApp(command.appId);
                        break;
                }
            }
        }
        
        function updateStoreStatus(systemState) {
            // Update store with system information
            if (window.appStoreInterface) {
                window.appStoreInterface.updateSystemInfo(systemState);
            }
        }
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>